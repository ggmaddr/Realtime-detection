{"version":3,"file":"extension.js","mappings":"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","sources":[".././node_modules/adm-zip/adm-zip.js",".././node_modules/adm-zip/headers/entryHeader.js",".././node_modules/adm-zip/headers/index.js",".././node_modules/adm-zip/headers/mainHeader.js",".././node_modules/adm-zip/methods/deflater.js",".././node_modules/adm-zip/methods/index.js",".././node_modules/adm-zip/methods/inflater.js",".././node_modules/adm-zip/util/constants.js",".././node_modules/adm-zip/util/errors.js",".././node_modules/adm-zip/util/fattr.js",".././node_modules/adm-zip/util/fileSystem.js",".././node_modules/adm-zip/util/index.js",".././node_modules/adm-zip/util/utils.js",".././node_modules/adm-zip/zipEntry.js",".././node_modules/adm-zip/zipFile.js",".././node_modules/tr46/index.js",".././src/commands/generateProject.ts",".././src/constants.ts",".././src/util/mpStarterApi.ts",".././src/util/util.ts",".././src/util/vscodePrompts.ts",".././node_modules/webidl-conversions/lib/index.js",".././node_modules/whatwg-url/lib/URL-impl.js",".././node_modules/whatwg-url/lib/URL.js",".././node_modules/whatwg-url/lib/public-api.js",".././node_modules/whatwg-url/lib/url-state-machine.js",".././node_modules/whatwg-url/lib/utils.js","../external commonjs \"vscode\"","../external node-commonjs \"fs\"","../external node-commonjs \"path\"","../external node-commonjs \"punycode\"","../external node-commonjs \"stream\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../external node-commonjs \"http\"","../external node-commonjs \"url\"","../external node-commonjs \"https\"",".././node_modules/node-fetch/lib/index.mjs","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object",".././src/extension.ts"],"sourcesContent":["var Utils = require(\"./util\");\r\nvar fs = Utils.FileSystem.require(),\r\n\tpth = require(\"path\");\r\n\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nvar ZipEntry = require(\"./zipEntry\"),\r\n\tZipFile = require(\"./zipFile\");\r\n\r\nvar isWin = /^win/.test(process.platform);\r\n\r\n\r\nmodule.exports = function (/**String*/input) {\r\n\tvar _zip = undefined,\r\n\t\t_filename = \"\";\r\n\r\n\tif (input && typeof input === \"string\") { // load zip file\r\n\t\tif (fs.existsSync(input)) {\r\n\t\t\t_filename = input;\r\n\t\t\t_zip = new ZipFile(input, Utils.Constants.FILE);\r\n\t\t} else {\r\n\t\t\tthrow new Error(Utils.Errors.INVALID_FILENAME);\r\n\t\t}\r\n\t} else if (input && Buffer.isBuffer(input)) { // load buffer\r\n\t\t_zip = new ZipFile(input, Utils.Constants.BUFFER);\r\n\t} else { // create new zip file\r\n\t\t_zip = new ZipFile(null, Utils.Constants.NONE);\r\n\t}\r\n\r\n\tfunction sanitize(prefix, name) {\r\n\t\tprefix = pth.resolve(pth.normalize(prefix));\r\n\t\tvar parts = name.split('/');\r\n\t\tfor (var i = 0, l = parts.length; i < l; i++) {\r\n\t\t\tvar path = pth.normalize(pth.join(prefix, parts.slice(i, l).join(pth.sep)));\r\n\t\t\tif (path.indexOf(prefix) === 0) {\r\n\t\t\t\treturn path;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pth.normalize(pth.join(prefix, pth.basename(name)));\r\n\t}\r\n\r\n\tfunction getEntry(/**Object*/entry) {\r\n\t\tif (entry && _zip) {\r\n\t\t\tvar item;\r\n\t\t\t// If entry was given as a file name\r\n\t\t\tif (typeof entry === \"string\")\r\n\t\t\t\titem = _zip.getEntry(entry);\r\n\t\t\t// if entry was given as a ZipEntry object\r\n\t\t\tif (typeof entry === \"object\" && typeof entry.entryName !== \"undefined\" && typeof entry.header !== \"undefined\")\r\n\t\t\t\titem = _zip.getEntry(entry.entryName);\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as a Buffer object\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFile: function (/**Object*/entry) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\treturn item && item.getData() || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readFile\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFileAsync: function (/**Object*/entry, /**Function*/callback) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(callback);\r\n\t\t\t} else {\r\n\t\t\t\tcallback(null, \"getEntry failed for:\" + entry)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as plain text in the given encoding\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsText: function (/**Object*/entry, /**String=*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\tvar data = item.getData();\r\n\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\treturn data.toString(encoding || \"utf8\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readAsText\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsTextAsync: function (/**Object*/entry, /**Function*/callback, /**String=*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(function (data, err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(data, err);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\t\tcallback(data.toString(encoding || \"utf8\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(\"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tcallback(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove the entry from the file or the entry and all it's nested directories and files if the given entry is a directory\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tdeleteFile: function (/**Object*/entry) { // @TODO: test deleteFile\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\t_zip.deleteEntry(item.entryName);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to the zip. The zip must be rewritten after adding the comment.\r\n\t\t *\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipComment: function (/**String*/comment) { // @TODO: test addZipComment\r\n\t\t\t_zip.comment = comment;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip comment\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipComment: function () {\r\n\t\t\treturn _zip.comment || '';\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to a specified zipEntry. The zip must be rewritten after adding the comment\r\n\t\t * The comment cannot exceed 65535 characters in length\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipEntryComment: function (/**Object*/entry, /**String*/comment) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.comment = comment;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the comment of the specified entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipEntryComment: function (/**Object*/entry) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.comment || '';\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Updates the content of an existing entry inside the archive. The zip must be rewritten after updating the content\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param content\r\n\t\t */\r\n\t\tupdateFile: function (/**Object*/entry, /**Buffer*/content) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.setData(content);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a file from the disk to the archive\r\n\t\t *\r\n\t\t * @param localPath File to add to zip\r\n\t\t * @param zipPath Optional path inside the zip\r\n\t\t * @param zipName Optional name for the file\r\n\t\t */\r\n\t\taddLocalFile: function (/**String*/localPath, /**String=*/zipPath, /**String=*/zipName) {\r\n\t\t\tif (fs.existsSync(localPath)) {\r\n\t\t\t\tif (zipPath) {\r\n\t\t\t\t\tzipPath = zipPath.split(\"\\\\\").join(\"/\");\r\n\t\t\t\t\tif (zipPath.charAt(zipPath.length - 1) !== \"/\") {\r\n\t\t\t\t\t\tzipPath += \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tzipPath = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar p = localPath.split(\"\\\\\").join(\"/\").split(\"/\").pop();\r\n\r\n\t\t\t\tif (zipName) {\r\n\t\t\t\t\tthis.addFile(zipPath + zipName, fs.readFileSync(localPath), \"\", 0)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addFile(zipPath + p, fs.readFileSync(localPath), \"\", 0)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a local directory and all its nested files and directories to the archive\r\n\t\t *\r\n\t\t * @param localPath\r\n\t\t * @param zipPath optional path inside zip\r\n\t\t * @param filter optional RegExp or Function if files match will\r\n\t\t *               be included.\r\n\t\t */\r\n\t\taddLocalFolder: function (/**String*/localPath, /**String=*/zipPath, /**=RegExp|Function*/filter) {\r\n\t\t\tif (filter === undefined) {\r\n\t\t\t\tfilter = function () {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\t\t\t} else if (filter instanceof RegExp) {\r\n\t\t\t\tfilter = function (filter) {\r\n\t\t\t\t\treturn function (filename) {\r\n\t\t\t\t\t\treturn filter.test(filename);\r\n\t\t\t\t\t}\r\n\t\t\t\t}(filter);\r\n\t\t\t}\r\n\r\n\t\t\tif (zipPath) {\r\n\t\t\t\tzipPath = zipPath.split(\"\\\\\").join(\"/\");\r\n\t\t\t\tif (zipPath.charAt(zipPath.length - 1) !== \"/\") {\r\n\t\t\t\t\tzipPath += \"/\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tzipPath = \"\";\r\n\t\t\t}\r\n\t\t\t// normalize the path first\r\n\t\t\tlocalPath = pth.normalize(localPath);\r\n\t\t\tlocalPath = localPath.split(\"\\\\\").join(\"/\"); //windows fix\r\n\t\t\tif (localPath.charAt(localPath.length - 1) !== \"/\")\r\n\t\t\t\tlocalPath += \"/\";\r\n\r\n\t\t\tif (fs.existsSync(localPath)) {\r\n\r\n\t\t\t\tvar items = Utils.findFiles(localPath),\r\n\t\t\t\t\tself = this;\r\n\r\n\t\t\t\tif (items.length) {\r\n\t\t\t\t\titems.forEach(function (path) {\r\n\t\t\t\t\t\tvar p = path.split(\"\\\\\").join(\"/\").replace(new RegExp(localPath.replace(/(\\(|\\)|\\$)/g, '\\\\$1'), 'i'), \"\"); //windows fix\r\n\t\t\t\t\t\tif (filter(p)) {\r\n\t\t\t\t\t\t\tif (p.charAt(p.length - 1) !== \"/\") {\r\n\t\t\t\t\t\t\t\tself.addFile(zipPath + p, fs.readFileSync(path), \"\", 0)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.addFile(zipPath + p, Buffer.alloc(0), \"\", 0)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous addLocalFile\r\n\t\t * @param localPath\r\n\t\t * @param callback\r\n\t\t * @param zipPath optional path inside zip\r\n\t\t * @param filter optional RegExp or Function if files match will\r\n\t\t *               be included.\r\n\t\t */\r\n\t\taddLocalFolderAsync: function (/*String*/localPath, /*Function*/callback, /*String*/zipPath, /*RegExp|Function*/filter) {\r\n\t\t\tif (filter === undefined) {\r\n\t\t\t\tfilter = function () {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\t\t\t} else if (filter instanceof RegExp) {\r\n\t\t\t\tfilter = function (filter) {\r\n\t\t\t\t\treturn function (filename) {\r\n\t\t\t\t\t\treturn filter.test(filename);\r\n\t\t\t\t\t}\r\n\t\t\t\t}(filter);\r\n\t\t\t}\r\n\r\n\t\t\tif (zipPath) {\r\n\t\t\t\tzipPath = zipPath.split(\"\\\\\").join(\"/\");\r\n\t\t\t\tif (zipPath.charAt(zipPath.length - 1) !== \"/\") {\r\n\t\t\t\t\tzipPath += \"/\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tzipPath = \"\";\r\n\t\t\t}\r\n\t\t\t// normalize the path first\r\n\t\t\tlocalPath = pth.normalize(localPath);\r\n\t\t\tlocalPath = localPath.split(\"\\\\\").join(\"/\"); //windows fix\r\n\t\t\tif (localPath.charAt(localPath.length - 1) !== \"/\")\r\n\t\t\t\tlocalPath += \"/\";\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tfs.open(localPath, 'r', function (err, fd) {\r\n\t\t\t\tif (err && err.code === 'ENOENT') {\r\n\t\t\t\t\tcallback(undefined, Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath));\r\n\t\t\t\t} else if (err) {\r\n\t\t\t\t\tcallback(undefined, err);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar items = Utils.findFiles(localPath);\r\n\t\t\t\t\tvar i = -1;\r\n\r\n\t\t\t\t\tvar next = function () {\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\tif (i < items.length) {\r\n\t\t\t\t\t\t\tvar p = items[i].split(\"\\\\\").join(\"/\").replace(new RegExp(localPath.replace(/(\\(|\\))/g, '\\\\$1'), 'i'), \"\"); //windows fix\r\n\t\t\t\t\t\t\tp = p.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').replace(/[^\\x20-\\x7E]/g, '') // accent fix\r\n\t\t\t\t\t\t\tif (filter(p)) {\r\n\t\t\t\t\t\t\t\tif (p.charAt(p.length - 1) !== \"/\") {\r\n\t\t\t\t\t\t\t\t\tfs.readFile(items[i], function (err, data) {\r\n\t\t\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\t\t\tcallback(undefined, err);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tself.addFile(zipPath + p, data, '', 0);\r\n\t\t\t\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tself.addFile(zipPath + p, Buffer.alloc(0), \"\", 0);\r\n\t\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcallback(true, undefined);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Allows you to create a entry (file or directory) in the zip file.\r\n\t\t * If you want to create a directory the entryName must end in / and a null buffer should be provided.\r\n\t\t * Comment and attributes are optional\r\n\t\t *\r\n\t\t * @param entryName\r\n\t\t * @param content\r\n\t\t * @param comment\r\n\t\t * @param attr\r\n\t\t */\r\n\t\taddFile: function (/**String*/entryName, /**Buffer*/content, /**String*/comment, /**Number*/attr) {\r\n\t\t\tvar entry = new ZipEntry();\r\n\t\t\tentry.entryName = entryName;\r\n\t\t\tentry.comment = comment || \"\";\r\n\r\n\t\t\tif (!attr) {\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tattr = (0o40755 << 16) | 0x10; // (permissions drwxr-xr-x) + (MS-DOS directory flag)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tattr = 0o644 << 16; // permissions -r-wr--r--\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tentry.attr = attr;\r\n\r\n\t\t\tentry.setData(content);\r\n\t\t\t_zip.setEntry(entry);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects representing the files and folders inside the archive\r\n\t\t *\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntries: function () {\r\n\t\t\tif (_zip) {\r\n\t\t\t\treturn _zip.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a ZipEntry object representing the file or folder specified by ``name``.\r\n\t\t *\r\n\t\t * @param name\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/**String*/name) {\r\n\t\t\treturn getEntry(name);\r\n\t\t},\r\n\r\n\t\tgetEntryCount: function() {\r\n\t\t\treturn _zip.getEntryCount();\r\n\t\t},\r\n\r\n\t\tforEach: function(callback) {\r\n\t\t\treturn _zip.forEach(callback);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry to the given targetPath\r\n\t\t * If the entry is a directory inside the archive, the entire directory and it's subdirectories will be extracted\r\n\t\t *\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param targetPath Target folder where to write the file\r\n\t\t * @param maintainEntryPath If maintainEntryPath is true and the entry is inside a folder, the entry folder\r\n\t\t *                          will be created in targetPath as well. Default is TRUE\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t *\r\n\t\t * @return Boolean\r\n\t\t */\r\n\t\textractEntryTo: function (/**Object*/entry, /**String*/targetPath, /**Boolean*/maintainEntryPath, /**Boolean*/overwrite) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tmaintainEntryPath = typeof maintainEntryPath === \"undefined\" ? true : maintainEntryPath;\r\n\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (!item) {\r\n\t\t\t\tthrow new Error(Utils.Errors.NO_ENTRY);\r\n\t\t\t}\r\n\r\n\t\t\tvar entryName = item.entryName;\r\n\r\n\t\t\tvar target = sanitize(targetPath, maintainEntryPath ? entryName : pth.basename(entryName));\r\n\r\n\t\t\tif (item.isDirectory) {\r\n\t\t\t\ttarget = pth.resolve(target, \"..\");\r\n\t\t\t\tvar children = _zip.getEntryChildren(item);\r\n\t\t\t\tchildren.forEach(function (child) {\r\n\t\t\t\t\tif (child.isDirectory) return;\r\n\t\t\t\t\tvar content = child.getData();\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar childName = sanitize(targetPath, maintainEntryPath ? child.entryName : pth.basename(child.entryName));\r\n\r\n\t\t\t\t\tUtils.writeFileTo(childName, content, overwrite);\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvar content = item.getData();\r\n\t\t\tif (!content) throw new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\r\n\t\t\tif (fs.existsSync(target) && !overwrite) {\r\n\t\t\t\tthrow new Error(Utils.Errors.CANT_OVERRIDE);\r\n\t\t\t}\r\n\t\t\tUtils.writeFileTo(target, content, overwrite);\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Test the archive\r\n\t\t *\r\n\t\t */\r\n\t\ttest: function () {\r\n\t\t\tif (!_zip) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var entry in _zip.entries) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar content = _zip.entries[entry].getData();\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the entire archive to the given location\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t */\r\n\t\textractAllTo: function (/**String*/targetPath, /**Boolean*/overwrite) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tthrow new Error(Utils.Errors.NO_ZIP);\r\n\t\t\t}\r\n\t\t\t_zip.entries.forEach(function (entry) {\r\n\t\t\t\tvar entryName = sanitize(targetPath, entry.entryName.toString());\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(entryName);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar content = entry.getData();\r\n\t\t\t\tif (!content) {\r\n\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t}\r\n\t\t\t\tUtils.writeFileTo(entryName, content, overwrite);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfs.utimesSync(entryName, entry.header.time, entry.header.time)\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error(Utils.Errors.CANT_EXTRACT_FILE);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous extractAllTo\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t * @param callback\r\n\t\t */\r\n\t\textractAllToAsync: function (/**String*/targetPath, /**Boolean*/overwrite, /**Function*/callback) {\r\n\t\t\tif (!callback) {\r\n\t\t\t\tcallback = function() {}\r\n\t\t\t}\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tcallback(new Error(Utils.Errors.NO_ZIP));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar entries = _zip.entries;\r\n\t\t\tvar i = entries.length;\r\n\t\t\tentries.forEach(function (entry) {\r\n\t\t\t\tif (i <= 0) return; // Had an error already\r\n\r\n\t\t\t\tvar entryName = pth.normalize(entry.entryName.toString());\r\n\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(sanitize(targetPath, entryName));\r\n\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tentry.getDataAsync(function (content, err) {\r\n\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(new Error(err));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tcallback(new Error(Utils.Errors.CANT_EXTRACT_FILE));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tUtils.writeFileToAsync(sanitize(targetPath, entryName), content, overwrite, function (succ) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tfs.utimesSync(pth.resolve(targetPath, entryName), entry.header.time, entry.header.time);\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to set utimes'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\t\tif (!succ) {\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to write'));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Writes the newly created zip file to disk at the specified location or if a zip was opened and no ``targetFileName`` is provided, it will overwrite the opened zip\r\n\t\t *\r\n\t\t * @param targetFileName\r\n\t\t * @param callback\r\n\t\t */\r\n\t\twriteZip: function (/**String*/targetFileName, /**Function*/callback) {\r\n\t\t\tif (arguments.length === 1) {\r\n\t\t\t\tif (typeof targetFileName === \"function\") {\r\n\t\t\t\t\tcallback = targetFileName;\r\n\t\t\t\t\ttargetFileName = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!targetFileName && _filename) {\r\n\t\t\t\ttargetFileName = _filename;\r\n\t\t\t}\r\n\t\t\tif (!targetFileName) return;\r\n\r\n\t\t\tvar zipData = _zip.compressToBuffer();\r\n\t\t\tif (zipData) {\r\n\t\t\t\tvar ok = Utils.writeFileTo(targetFileName, zipData, true);\r\n\t\t\t\tif (typeof callback === 'function') callback(!ok ? new Error(\"failed\") : null, \"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the content of the entire zip file as a Buffer object\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\ttoBuffer: function (/**Function=*/onSuccess, /**Function=*/onFail, /**Function=*/onItemStart, /**Function=*/onItemEnd) {\r\n\t\t\tthis.valueOf = 2;\r\n\t\t\tif (typeof onSuccess === \"function\") {\r\n\t\t\t\t_zip.toAsyncBuffer(onSuccess, onFail, onItemStart, onItemEnd);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn _zip.compressToBuffer()\r\n\t\t}\r\n\t}\r\n};\r\n","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The central directory file header */\r\nmodule.exports = function () {\r\n    var _verMade = 0x0A,\r\n        _version = 0x0A,\r\n        _flags = 0,\r\n        _method = 0,\r\n        _time = 0,\r\n        _crc = 0,\r\n        _compressedSize = 0,\r\n        _size = 0,\r\n        _fnameLen = 0,\r\n        _extraLen = 0,\r\n\r\n        _comLen = 0,\r\n        _diskStart = 0,\r\n        _inattr = 0,\r\n        _attr = 0,\r\n        _offset = 0;\r\n\r\n    var _dataHeader = {};\r\n\r\n    function setTime(val) {\r\n        val = new Date(val);\r\n        _time = (val.getFullYear() - 1980 & 0x7f) << 25  // b09-16 years from 1980\r\n            | (val.getMonth() + 1) << 21                 // b05-08 month\r\n            | val.getDate() << 16                        // b00-04 hour\r\n\r\n            // 2 bytes time\r\n            | val.getHours() << 11    // b11-15 hour\r\n            | val.getMinutes() << 5   // b05-10 minute\r\n            | val.getSeconds() >> 1;  // b00-04 seconds divided by 2\r\n    }\r\n\r\n    setTime(+new Date());\r\n\r\n    return {\r\n        get made () { return _verMade; },\r\n        set made (val) { _verMade = val; },\r\n\r\n        get version () { return _version; },\r\n        set version (val) { _version = val },\r\n\r\n        get flags () { return _flags },\r\n        set flags (val) { _flags = val; },\r\n\r\n        get method () { return _method; },\r\n        set method (val) { _method = val; },\r\n\r\n        get time () { return new Date(\r\n            ((_time >> 25) & 0x7f) + 1980,\r\n            ((_time >> 21) & 0x0f) - 1,\r\n            (_time >> 16) & 0x1f,\r\n            (_time >> 11) & 0x1f,\r\n            (_time >> 5) & 0x3f,\r\n            (_time & 0x1f) << 1\r\n        );\r\n        },\r\n        set time (val) {\r\n            setTime(val);\r\n        },\r\n\r\n        get crc () { return _crc; },\r\n        set crc (val) { _crc = val; },\r\n\r\n        get compressedSize () { return _compressedSize; },\r\n        set compressedSize (val) { _compressedSize = val; },\r\n\r\n        get size () { return _size; },\r\n        set size (val) { _size = val; },\r\n\r\n        get fileNameLength () { return _fnameLen; },\r\n        set fileNameLength (val) { _fnameLen = val; },\r\n\r\n        get extraLength () { return _extraLen },\r\n        set extraLength (val) { _extraLen = val; },\r\n\r\n        get commentLength () { return _comLen },\r\n        set commentLength (val) { _comLen = val },\r\n\r\n        get diskNumStart () { return _diskStart },\r\n        set diskNumStart (val) { _diskStart = val },\r\n\r\n        get inAttr () { return _inattr },\r\n        set inAttr (val) { _inattr = val },\r\n\r\n        get attr () { return _attr },\r\n        set attr (val) { _attr = val },\r\n\r\n        get offset () { return _offset },\r\n        set offset (val) { _offset = val },\r\n\r\n        get encripted () { return (_flags & 1) === 1 },\r\n\r\n        get entryHeaderSize () {\r\n            return Constants.CENHDR + _fnameLen + _extraLen + _comLen;\r\n        },\r\n\r\n        get realDataOffset () {\r\n            return _offset + Constants.LOCHDR + _dataHeader.fnameLen + _dataHeader.extraLen;\r\n        },\r\n\r\n        get dataHeader () {\r\n            return _dataHeader;\r\n        },\r\n\r\n        loadDataHeaderFromBinary : function(/*Buffer*/input) {\r\n            var data = input.slice(_offset, _offset + Constants.LOCHDR);\r\n            // 30 bytes and should start with \"PK\\003\\004\"\r\n            if (data.readUInt32LE(0) !== Constants.LOCSIG) {\r\n                throw new Error(Utils.Errors.INVALID_LOC);\r\n            }\r\n            _dataHeader = {\r\n                // version needed to extract\r\n                version : data.readUInt16LE(Constants.LOCVER),\r\n                // general purpose bit flag\r\n                flags : data.readUInt16LE(Constants.LOCFLG),\r\n                // compression method\r\n                method : data.readUInt16LE(Constants.LOCHOW),\r\n                // modification time (2 bytes time, 2 bytes date)\r\n                time : data.readUInt32LE(Constants.LOCTIM),\r\n                // uncompressed file crc-32 value\r\n                crc : data.readUInt32LE(Constants.LOCCRC),\r\n                // compressed size\r\n                compressedSize : data.readUInt32LE(Constants.LOCSIZ),\r\n                // uncompressed size\r\n                size : data.readUInt32LE(Constants.LOCLEN),\r\n                // filename length\r\n                fnameLen : data.readUInt16LE(Constants.LOCNAM),\r\n                // extra field length\r\n                extraLen : data.readUInt16LE(Constants.LOCEXT)\r\n            }\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 46 bytes and start with \"PK 01 02\"\r\n            if (data.length !== Constants.CENHDR || data.readUInt32LE(0) !== Constants.CENSIG) {\r\n                throw new Error(Utils.Errors.INVALID_CEN);\r\n            }\r\n            // version made by\r\n            _verMade = data.readUInt16LE(Constants.CENVEM);\r\n            // version needed to extract\r\n            _version = data.readUInt16LE(Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            _flags = data.readUInt16LE(Constants.CENFLG);\r\n            // compression method\r\n            _method = data.readUInt16LE(Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            _time = data.readUInt32LE(Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            _crc = data.readUInt32LE(Constants.CENCRC);\r\n            // compressed size\r\n            _compressedSize = data.readUInt32LE(Constants.CENSIZ);\r\n            // uncompressed size\r\n            _size = data.readUInt32LE(Constants.CENLEN);\r\n            // filename length\r\n            _fnameLen = data.readUInt16LE(Constants.CENNAM);\r\n            // extra field length\r\n            _extraLen = data.readUInt16LE(Constants.CENEXT);\r\n            // file comment length\r\n            _comLen = data.readUInt16LE(Constants.CENCOM);\r\n            // volume number start\r\n            _diskStart = data.readUInt16LE(Constants.CENDSK);\r\n            // internal file attributes\r\n            _inattr = data.readUInt16LE(Constants.CENATT);\r\n            // external file attributes\r\n            _attr = data.readUInt32LE(Constants.CENATX);\r\n            // LOC header offset\r\n            _offset = data.readUInt32LE(Constants.CENOFF);\r\n        },\r\n\r\n        dataHeaderToBinary : function() {\r\n            // LOC header size (30 bytes)\r\n            var data = Buffer.alloc(Constants.LOCHDR);\r\n            // \"PK\\003\\004\"\r\n            data.writeUInt32LE(Constants.LOCSIG, 0);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.LOCVER);\r\n            // general purpose bit flag\r\n            data.writeUInt16LE(_flags, Constants.LOCFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.LOCHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.LOCTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeUInt32LE(_crc, Constants.LOCCRC);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.LOCSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.LOCLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.LOCNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.LOCEXT);\r\n            return data;\r\n        },\r\n\r\n        entryHeaderToBinary : function() {\r\n            // CEN header size (46 bytes)\r\n            var data = Buffer.alloc(Constants.CENHDR + _fnameLen + _extraLen + _comLen);\r\n            // \"PK\\001\\002\"\r\n            data.writeUInt32LE(Constants.CENSIG, 0);\r\n            // version made by\r\n            data.writeUInt16LE(_verMade, Constants.CENVEM);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            data.writeUInt16LE(_flags, Constants.CENFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeUInt32LE(_crc, Constants.CENCRC);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.CENSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.CENLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.CENNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.CENEXT);\r\n            // file comment length\r\n            data.writeUInt16LE(_comLen, Constants.CENCOM);\r\n            // volume number start\r\n            data.writeUInt16LE(_diskStart, Constants.CENDSK);\r\n            // internal file attributes\r\n            data.writeUInt16LE(_inattr, Constants.CENATT);\r\n            // external file attributes\r\n            data.writeUInt32LE(_attr, Constants.CENATX);\r\n            // LOC header offset\r\n            data.writeUInt32LE(_offset, Constants.CENOFF);\r\n            // fill all with\r\n            data.fill(0x00, Constants.CENHDR);\r\n            return data;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"made\" : ' + _verMade + \",\\n\" +\r\n                '\\t\"version\" : ' + _version + \",\\n\" +\r\n                '\\t\"flags\" : ' + _flags + \",\\n\" +\r\n                '\\t\"method\" : ' + Utils.methodToString(_method) + \",\\n\" +\r\n                '\\t\"time\" : ' + this.time + \",\\n\" +\r\n                '\\t\"crc\" : 0x' + _crc.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"compressedSize\" : ' + _compressedSize + \" bytes,\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"fileNameLength\" : ' + _fnameLen + \",\\n\" +\r\n                '\\t\"extraLength\" : ' + _extraLen + \" bytes,\\n\" +\r\n                '\\t\"commentLength\" : ' + _comLen + \" bytes,\\n\" +\r\n                '\\t\"diskNumStart\" : ' + _diskStart + \",\\n\" +\r\n                '\\t\"inAttr\" : ' + _inattr + \",\\n\" +\r\n                '\\t\"attr\" : ' + _attr + \",\\n\" +\r\n                '\\t\"offset\" : ' + _offset + \",\\n\" +\r\n                '\\t\"entryHeaderSize\" : ' + (Constants.CENHDR + _fnameLen + _extraLen + _comLen) + \" bytes\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","exports.EntryHeader = require(\"./entryHeader\");\r\nexports.MainHeader = require(\"./mainHeader\");\r\n","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The entries in the end of central directory */\r\nmodule.exports = function () {\r\n    var _volumeEntries = 0,\r\n        _totalEntries = 0,\r\n        _size = 0,\r\n        _offset = 0,\r\n        _commentLength = 0;\r\n\r\n    return {\r\n        get diskEntries () { return _volumeEntries },\r\n        set diskEntries (/*Number*/val) { _volumeEntries = _totalEntries = val; },\r\n\r\n        get totalEntries () { return _totalEntries },\r\n        set totalEntries (/*Number*/val) { _totalEntries = _volumeEntries = val; },\r\n\r\n        get size () { return _size },\r\n        set size (/*Number*/val) { _size = val; },\r\n\r\n        get offset () { return _offset },\r\n        set offset (/*Number*/val) { _offset = val; },\r\n\r\n        get commentLength () { return _commentLength },\r\n        set commentLength (/*Number*/val) { _commentLength = val; },\r\n\r\n        get mainHeaderSize () {\r\n            return Constants.ENDHDR + _commentLength;\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 22 bytes and start with \"PK 05 06\"\r\n            // or be 56+ bytes and start with \"PK 06 06\" for Zip64\r\n            if ((data.length !== Constants.ENDHDR || data.readUInt32LE(0) !== Constants.ENDSIG) &&\r\n                (data.length < Constants.ZIP64HDR || data.readUInt32LE(0) !== Constants.ZIP64SIG)) {\r\n\r\n                throw new Error(Utils.Errors.INVALID_END);\r\n            }\r\n\r\n            if (data.readUInt32LE(0) === Constants.ENDSIG) {\r\n                // number of entries on this volume\r\n                _volumeEntries = data.readUInt16LE(Constants.ENDSUB);\r\n                // total number of entries\r\n                _totalEntries = data.readUInt16LE(Constants.ENDTOT);\r\n                // central directory size in bytes\r\n                _size = data.readUInt32LE(Constants.ENDSIZ);\r\n                // offset of first CEN header\r\n                _offset = data.readUInt32LE(Constants.ENDOFF);\r\n                // zip file comment length\r\n                _commentLength = data.readUInt16LE(Constants.ENDCOM);\r\n            } else {\r\n                // number of entries on this volume\r\n                _volumeEntries = Utils.readBigUInt64LE(data, Constants.ZIP64SUB);\r\n                // total number of entries\r\n                _totalEntries = Utils.readBigUInt64LE(data, Constants.ZIP64TOT);\r\n                // central directory size in bytes\r\n                _size = Utils.readBigUInt64LE(data, Constants.ZIP64SIZ);\r\n                // offset of first CEN header\r\n                _offset = Utils.readBigUInt64LE(data, Constants.ZIP64OFF);\r\n\r\n                _commentLength = 0;\r\n            }\r\n\r\n        },\r\n\r\n        toBinary : function() {\r\n           var b = Buffer.alloc(Constants.ENDHDR + _commentLength);\r\n            // \"PK 05 06\" signature\r\n            b.writeUInt32LE(Constants.ENDSIG, 0);\r\n            b.writeUInt32LE(0, 4);\r\n            // number of entries on this volume\r\n            b.writeUInt16LE(_volumeEntries, Constants.ENDSUB);\r\n            // total number of entries\r\n            b.writeUInt16LE(_totalEntries, Constants.ENDTOT);\r\n            // central directory size in bytes\r\n            b.writeUInt32LE(_size, Constants.ENDSIZ);\r\n            // offset of first CEN header\r\n            b.writeUInt32LE(_offset, Constants.ENDOFF);\r\n            // zip file comment length\r\n            b.writeUInt16LE(_commentLength, Constants.ENDCOM);\r\n            // fill comment memory with spaces so no garbage is left there\r\n            b.fill(\" \", Constants.ENDHDR);\r\n\r\n            return b;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"diskEntries\" : ' + _volumeEntries + \",\\n\" +\r\n                '\\t\"totalEntries\" : ' + _totalEntries + \",\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"offset\" : 0x' + _offset.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"commentLength\" : 0x' + _commentLength + \"\\n\" +\r\n            '}';\r\n        }\r\n    }\r\n};","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n  \r\n  var opts = {chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024};\r\n  \r\n  return {\r\n    deflate: function () {\r\n      return zlib.deflateRawSync(inbuf, opts);\r\n    },\r\n\r\n    deflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createDeflateRaw(opts), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","exports.Deflater = require(\"./deflater\");\r\nexports.Inflater = require(\"./inflater\");","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n\r\n  return {\r\n    inflate: function () {\r\n      return zlib.inflateRawSync(inbuf);\r\n    },\r\n\r\n    inflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createInflateRaw(), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","module.exports = {\r\n    /* The local file header */\r\n    LOCHDR           : 30, // LOC header size\r\n    LOCSIG           : 0x04034b50, // \"PK\\003\\004\"\r\n    LOCVER           : 4,\t// version needed to extract\r\n    LOCFLG           : 6, // general purpose bit flag\r\n    LOCHOW           : 8, // compression method\r\n    LOCTIM           : 10, // modification time (2 bytes time, 2 bytes date)\r\n    LOCCRC           : 14, // uncompressed file crc-32 value\r\n    LOCSIZ           : 18, // compressed size\r\n    LOCLEN           : 22, // uncompressed size\r\n    LOCNAM           : 26, // filename length\r\n    LOCEXT           : 28, // extra field length\r\n\r\n    /* The Data descriptor */\r\n    EXTSIG           : 0x08074b50, // \"PK\\007\\008\"\r\n    EXTHDR           : 16, // EXT header size\r\n    EXTCRC           : 4, // uncompressed file crc-32 value\r\n    EXTSIZ           : 8, // compressed size\r\n    EXTLEN           : 12, // uncompressed size\r\n\r\n    /* The central directory file header */\r\n    CENHDR           : 46, // CEN header size\r\n    CENSIG           : 0x02014b50, // \"PK\\001\\002\"\r\n    CENVEM           : 4, // version made by\r\n    CENVER           : 6, // version needed to extract\r\n    CENFLG           : 8, // encrypt, decrypt flags\r\n    CENHOW           : 10, // compression method\r\n    CENTIM           : 12, // modification time (2 bytes time, 2 bytes date)\r\n    CENCRC           : 16, // uncompressed file crc-32 value\r\n    CENSIZ           : 20, // compressed size\r\n    CENLEN           : 24, // uncompressed size\r\n    CENNAM           : 28, // filename length\r\n    CENEXT           : 30, // extra field length\r\n    CENCOM           : 32, // file comment length\r\n    CENDSK           : 34, // volume number start\r\n    CENATT           : 36, // internal file attributes\r\n    CENATX           : 38, // external file attributes (host system dependent)\r\n    CENOFF           : 42, // LOC header offset\r\n\r\n    /* The entries in the end of central directory */\r\n    ENDHDR           : 22, // END header size\r\n    ENDSIG           : 0x06054b50, // \"PK\\005\\006\"\r\n    ENDSUB           : 8, // number of entries on this disk\r\n    ENDTOT           : 10, // total number of entries\r\n    ENDSIZ           : 12, // central directory size in bytes\r\n    ENDOFF           : 16, // offset of first CEN header\r\n    ENDCOM           : 20, // zip file comment length\r\n\r\n    END64HDR         : 20, // zip64 END header size\r\n    END64SIG         : 0x07064b50, // zip64 Locator signature, \"PK\\006\\007\"\r\n    END64START       : 4, // number of the disk with the start of the zip64\r\n    END64OFF         : 8, // relative offset of the zip64 end of central directory\r\n    END64NUMDISKS    : 16, // total number of disks\r\n\r\n    ZIP64SIG         : 0x06064b50, // zip64 signature, \"PK\\006\\006\"\r\n    ZIP64HDR         : 56, // zip64 record minimum size\r\n    ZIP64LEAD        : 12, // leading bytes at the start of the record, not counted by the value stored in ZIP64SIZE\r\n    ZIP64SIZE        : 4, // zip64 size of the central directory record\r\n    ZIP64VEM         : 12, // zip64 version made by\r\n    ZIP64VER         : 14, // zip64 version needed to extract\r\n    ZIP64DSK         : 16, // zip64 number of this disk\r\n    ZIP64DSKDIR      : 20, // number of the disk with the start of the record directory\r\n    ZIP64SUB         : 24, // number of entries on this disk\r\n    ZIP64TOT         : 32, // total number of entries\r\n    ZIP64SIZB        : 40, // zip64 central directory size in bytes\r\n    ZIP64OFF         : 48, // offset of start of central directory with respect to the starting disk number\r\n    ZIP64EXTRA       : 56, // extensible data sector\r\n\r\n    /* Compression methods */\r\n    STORED           : 0, // no compression\r\n    SHRUNK           : 1, // shrunk\r\n    REDUCED1         : 2, // reduced with compression factor 1\r\n    REDUCED2         : 3, // reduced with compression factor 2\r\n    REDUCED3         : 4, // reduced with compression factor 3\r\n    REDUCED4         : 5, // reduced with compression factor 4\r\n    IMPLODED         : 6, // imploded\r\n    // 7 reserved\r\n    DEFLATED         : 8, // deflated\r\n    ENHANCED_DEFLATED: 9, // enhanced deflated\r\n    PKWARE           : 10,// PKWare DCL imploded\r\n    // 11 reserved\r\n    BZIP2            : 12, //  compressed using BZIP2\r\n    // 13 reserved\r\n    LZMA             : 14, // LZMA\r\n    // 15-17 reserved\r\n    IBM_TERSE        : 18, // compressed using IBM TERSE\r\n    IBM_LZ77         : 19, //IBM LZ77 z\r\n\r\n    /* General purpose bit flag */\r\n    FLG_ENC          : 0,  // encripted file\r\n    FLG_COMP1        : 1,  // compression option\r\n    FLG_COMP2        : 2,  // compression option\r\n    FLG_DESC         : 4,  // data descriptor\r\n    FLG_ENH          : 8,  // enhanced deflation\r\n    FLG_STR          : 16, // strong encryption\r\n    FLG_LNG          : 1024, // language encoding\r\n    FLG_MSK          : 4096, // mask header values\r\n\r\n    /* Load type */\r\n    FILE             : 0,\r\n    BUFFER           : 1,\r\n    NONE             : 2,\r\n\r\n    /* 4.5 Extensible data fields */\r\n    EF_ID            : 0,\r\n    EF_SIZE          : 2,\r\n\r\n    /* Header IDs */\r\n    ID_ZIP64         : 0x0001,\r\n    ID_AVINFO        : 0x0007,\r\n    ID_PFS           : 0x0008,\r\n    ID_OS2           : 0x0009,\r\n    ID_NTFS          : 0x000a,\r\n    ID_OPENVMS       : 0x000c,\r\n    ID_UNIX          : 0x000d,\r\n    ID_FORK          : 0x000e,\r\n    ID_PATCH         : 0x000f,\r\n    ID_X509_PKCS7    : 0x0014,\r\n    ID_X509_CERTID_F : 0x0015,\r\n    ID_X509_CERTID_C : 0x0016,\r\n    ID_STRONGENC     : 0x0017,\r\n    ID_RECORD_MGT    : 0x0018,\r\n    ID_X509_PKCS7_RL : 0x0019,\r\n    ID_IBM1          : 0x0065,\r\n    ID_IBM2          : 0x0066,\r\n    ID_POSZIP        : 0x4690,\r\n\r\n    EF_ZIP64_OR_32   : 0xffffffff,\r\n    EF_ZIP64_OR_16   : 0xffff,\r\n    EF_ZIP64_SUNCOMP : 0,\r\n    EF_ZIP64_SCOMP   : 8,\r\n    EF_ZIP64_RHO     : 16,\r\n    EF_ZIP64_DSN     : 24\r\n};\r\n","module.exports = {\r\n    /* Header error messages */\r\n    \"INVALID_LOC\" : \"Invalid LOC header (bad signature)\",\r\n    \"INVALID_CEN\" : \"Invalid CEN header (bad signature)\",\r\n    \"INVALID_END\" : \"Invalid END header (bad signature)\",\r\n\r\n    /* ZipEntry error messages*/\r\n    \"NO_DATA\" : \"Nothing to decompress\",\r\n    \"BAD_CRC\" : \"CRC32 checksum failed\",\r\n    \"FILE_IN_THE_WAY\" : \"There is a file in the way: %s\",\r\n    \"UNKNOWN_METHOD\" : \"Invalid/unsupported compression method\",\r\n\r\n    /* Inflater error messages */\r\n    \"AVAIL_DATA\" : \"inflate::Available inflate data did not terminate\",\r\n    \"INVALID_DISTANCE\" : \"inflate::Invalid literal/length or distance code in fixed or dynamic block\",\r\n    \"TO_MANY_CODES\" : \"inflate::Dynamic block code description: too many length or distance codes\",\r\n    \"INVALID_REPEAT_LEN\" : \"inflate::Dynamic block code description: repeat more than specified lengths\",\r\n    \"INVALID_REPEAT_FIRST\" : \"inflate::Dynamic block code description: repeat lengths with no first length\",\r\n    \"INCOMPLETE_CODES\" : \"inflate::Dynamic block code description: code lengths codes incomplete\",\r\n    \"INVALID_DYN_DISTANCE\": \"inflate::Dynamic block code description: invalid distance code lengths\",\r\n    \"INVALID_CODES_LEN\": \"inflate::Dynamic block code description: invalid literal/length code lengths\",\r\n    \"INVALID_STORE_BLOCK\" : \"inflate::Stored block length did not match one's complement\",\r\n    \"INVALID_BLOCK_TYPE\" : \"inflate::Invalid block type (type == 3)\",\r\n\r\n    /* ADM-ZIP error messages */\r\n    \"CANT_EXTRACT_FILE\" : \"Could not extract the file\",\r\n    \"CANT_OVERRIDE\" : \"Target file already exists\",\r\n    \"NO_ZIP\" : \"No zip file was loaded\",\r\n    \"NO_ENTRY\" : \"Entry doesn't exist\",\r\n    \"DIRECTORY_CONTENT_ERROR\" : \"A directory cannot have content\",\r\n    \"FILE_NOT_FOUND\" : \"File not found: %s\",\r\n    \"NOT_IMPLEMENTED\" : \"Not implemented\",\r\n    \"INVALID_FILENAME\" : \"Invalid filename\",\r\n    \"INVALID_FORMAT\" : \"Invalid or unsupported zip format. No END header found\"\r\n};","var fs = require(\"./fileSystem\").require(),\r\n    pth = require(\"path\");\r\n\t\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = function(/*String*/path) {\r\n\r\n    var _path = path || \"\",\r\n        _permissions = 0,\r\n        _obj = newAttr(),\r\n        _stat = null;\r\n\r\n    function newAttr() {\r\n        return {\r\n            directory : false,\r\n            readonly : false,\r\n            hidden : false,\r\n            executable : false,\r\n            mtime : 0,\r\n            atime : 0\r\n        }\r\n    }\r\n\r\n    if (_path && fs.existsSync(_path)) {\r\n        _stat = fs.statSync(_path);\r\n        _obj.directory = _stat.isDirectory();\r\n        _obj.mtime = _stat.mtime;\r\n        _obj.atime = _stat.atime;\r\n        _obj.executable = !!(1 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.readonly = !!(2 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.hidden = pth.basename(_path)[0] === \".\";\r\n    } else {\r\n        console.warn(\"Invalid path: \" + _path)\r\n    }\r\n\r\n    return {\r\n\r\n        get directory () {\r\n            return _obj.directory;\r\n        },\r\n\r\n        get readOnly () {\r\n            return _obj.readonly;\r\n        },\r\n\r\n        get hidden () {\r\n            return _obj.hidden;\r\n        },\r\n\r\n        get mtime () {\r\n            return _obj.mtime;\r\n        },\r\n\r\n        get atime () {\r\n           return _obj.atime;\r\n        },\r\n\r\n\r\n        get executable () {\r\n            return _obj.executable;\r\n        },\r\n\r\n        decodeAttributes : function(val) {\r\n\r\n        },\r\n\r\n        encodeAttributes : function (val) {\r\n\r\n        },\r\n\r\n        toString : function() {\r\n           return '{\\n' +\r\n               '\\t\"path\" : \"' + _path + \",\\n\" +\r\n               '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" +\r\n               '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" +\r\n               '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" +\r\n               '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" +\r\n               '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" +\r\n               '\\t\"aTime\" : ' + _obj.atime + \"\\n\" +\r\n           '}';\r\n        }\r\n    }\r\n\r\n};\r\n","exports.require = function() {\r\n  var fs = require(\"fs\");\r\n  if (process.versions['electron']) {\r\n\t  try {\r\n\t    originalFs = require(\"original-fs\");\r\n\t    if (Object.keys(originalFs).length > 0) {\r\n\t      fs = originalFs;\r\n      }\r\n\t  } catch (e) {}\r\n  }\r\n  return fs\r\n};\r\n","module.exports = require(\"./utils\");\r\nmodule.exports.FileSystem = require(\"./fileSystem\");\r\nmodule.exports.Constants = require(\"./constants\");\r\nmodule.exports.Errors = require(\"./errors\");\r\nmodule.exports.FileAttr = require(\"./fattr\");","var fs = require(\"./fileSystem\").require(),\r\n    pth = require('path');\r\n\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = (function() {\r\n\r\n    var crcTable = [],\r\n        Constants = require('./constants'),\r\n        Errors = require('./errors'),\r\n\r\n        PATH_SEPARATOR = pth.sep;\r\n\r\n\r\n    function mkdirSync(/*String*/path) {\r\n        var resolvedPath = path.split(PATH_SEPARATOR)[0];\r\n        path.split(PATH_SEPARATOR).forEach(function(name) {\r\n            if (!name || name.substr(-1,1) === \":\") return;\r\n            resolvedPath += PATH_SEPARATOR + name;\r\n            var stat;\r\n            try {\r\n                stat = fs.statSync(resolvedPath);\r\n            } catch (e) {\r\n                fs.mkdirSync(resolvedPath);\r\n            }\r\n            if (stat && stat.isFile())\r\n                throw Errors.FILE_IN_THE_WAY.replace(\"%s\", resolvedPath);\r\n        });\r\n    }\r\n\r\n    function findSync(/*String*/dir, /*RegExp*/pattern, /*Boolean*/recoursive) {\r\n        if (typeof pattern === 'boolean') {\r\n            recoursive = pattern;\r\n            pattern = undefined;\r\n        }\r\n        var files = [];\r\n        fs.readdirSync(dir).forEach(function(file) {\r\n            var path = pth.join(dir, file);\r\n\r\n            if (fs.statSync(path).isDirectory() && recoursive)\r\n                files = files.concat(findSync(path, pattern, recoursive));\r\n\r\n            if (!pattern || pattern.test(path)) {\r\n                files.push(pth.normalize(path) + (fs.statSync(path).isDirectory() ? PATH_SEPARATOR : \"\"));\r\n            }\r\n\r\n        });\r\n        return files;\r\n    }\r\n\r\n    function readBigUInt64LE(/*Buffer*/buffer, /*int*/index) {\r\n        var slice = Buffer.from(buffer.slice(index, index + 8));\r\n        slice.swap64();\r\n\r\n        return parseInt(`0x${ slice.toString('hex') }`);\r\n    }\r\n\r\n    return {\r\n        makeDir : function(/*String*/path) {\r\n            mkdirSync(path);\r\n        },\r\n\r\n        crc32 : function(buf) {\r\n            if (typeof buf === 'string') {\r\n                buf = Buffer.alloc(buf.length, buf);\r\n            }\r\n            var b = Buffer.alloc(4);\r\n            if (!crcTable.length) {\r\n                for (var n = 0; n < 256; n++) {\r\n                    var c = n;\r\n                    for (var k = 8; --k >= 0;)  //\r\n                        if ((c & 1) !== 0)  { c = 0xedb88320 ^ (c >>> 1); } else { c = c >>> 1; }\r\n                    if (c < 0) {\r\n                        b.writeInt32LE(c, 0);\r\n                        c = b.readUInt32LE(0);\r\n                    }\r\n                    crcTable[n] = c;\r\n                }\r\n            }\r\n            var crc = 0, off = 0, len = buf.length, c1 = ~crc;\r\n            while(--len >= 0) c1 = crcTable[(c1 ^ buf[off++]) & 0xff] ^ (c1 >>> 8);\r\n            crc = ~c1;\r\n            b.writeInt32LE(crc & 0xffffffff, 0);\r\n            return b.readUInt32LE(0);\r\n        },\r\n\r\n        methodToString : function(/*Number*/method) {\r\n            switch (method) {\r\n                case Constants.STORED:\r\n                    return 'STORED (' + method + ')';\r\n                case Constants.DEFLATED:\r\n                    return 'DEFLATED (' + method + ')';\r\n                default:\r\n                    return 'UNSUPPORTED (' + method + ')';\r\n            }\r\n\r\n        },\r\n\r\n        writeFileTo : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr) {\r\n            if (fs.existsSync(path)) {\r\n                if (!overwrite)\r\n                    return false; // cannot overwrite\r\n\r\n                var stat = fs.statSync(path);\r\n                if (stat.isDirectory()) {\r\n                    return false;\r\n                }\r\n            }\r\n            var folder = pth.dirname(path);\r\n            if (!fs.existsSync(folder)) {\r\n                mkdirSync(folder);\r\n            }\r\n\r\n            var fd;\r\n            try {\r\n                fd = fs.openSync(path, 'w', 438); // 0666\r\n            } catch(e) {\r\n                fs.chmodSync(path, 438);\r\n                fd = fs.openSync(path, 'w', 438);\r\n            }\r\n            if (fd) {\r\n                try {\r\n                    fs.writeSync(fd, content, 0, content.length, 0);\r\n                }\r\n                catch (e){\r\n                    throw e;\r\n                }\r\n                finally {\r\n                    fs.closeSync(fd);\r\n                }\r\n            }\r\n            fs.chmodSync(path, attr || 438);\r\n            return true;\r\n        },\r\n\r\n        writeFileToAsync : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr, /*Function*/callback) {\r\n            if(typeof attr === 'function') {\r\n                callback = attr;\r\n                attr = undefined;\r\n            }\r\n\r\n            fs.exists(path, function(exists) {\r\n                if(exists && !overwrite)\r\n                    return callback(false);\r\n\r\n                fs.stat(path, function(err, stat) {\r\n                    if(exists &&stat.isDirectory()) {\r\n                        return callback(false);\r\n                    }\r\n\r\n                    var folder = pth.dirname(path);\r\n                    fs.exists(folder, function(exists) {\r\n                        if(!exists)\r\n                            mkdirSync(folder);\r\n\r\n                        fs.open(path, 'w', 438, function(err, fd) {\r\n                            if(err) {\r\n                                fs.chmod(path, 438, function() {\r\n                                    fs.open(path, 'w', 438, function(err, fd) {\r\n                                        fs.write(fd, content, 0, content.length, 0, function() {\r\n                                            fs.close(fd, function() {\r\n                                                fs.chmod(path, attr || 438, function() {\r\n                                                    callback(true);\r\n                                                })\r\n                                            });\r\n                                        });\r\n                                    });\r\n                                })\r\n                            } else {\r\n                                if(fd) {\r\n                                    fs.write(fd, content, 0, content.length, 0, function() {\r\n                                        fs.close(fd, function() {\r\n                                            fs.chmod(path, attr || 438, function() {\r\n                                                callback(true);\r\n                                            })\r\n                                        });\r\n                                    });\r\n                                } else {\r\n                                    fs.chmod(path, attr || 438, function() {\r\n                                        callback(true);\r\n                                    })\r\n                                }\r\n                            }\r\n                        });\r\n                    })\r\n                })\r\n            })\r\n        },\r\n\r\n        findFiles : function(/*String*/path) {\r\n            return findSync(path, true);\r\n        },\r\n\r\n        getAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        setAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        toBuffer : function(input) {\r\n            if (Buffer.isBuffer(input)) {\r\n                return input;\r\n            } else {\r\n                if (input.length === 0) {\r\n                    return Buffer.alloc(0)\r\n                }\r\n                return Buffer.from(input, 'utf8');\r\n            }\r\n        },\r\n\r\n        readBigUInt64LE,\r\n\r\n        Constants : Constants,\r\n        Errors : Errors\r\n    }\r\n})();\r\n","var Utils = require(\"./util\"),\r\n    Headers = require(\"./headers\"),\r\n    Constants = Utils.Constants,\r\n    Methods = require(\"./methods\");\r\n\r\nmodule.exports = function (/*Buffer*/input) {\r\n\r\n    var _entryHeader = new Headers.EntryHeader(),\r\n        _entryName = Buffer.alloc(0),\r\n        _comment = Buffer.alloc(0),\r\n        _isDirectory = false,\r\n        uncompressedData = null,\r\n        _extra = Buffer.alloc(0);\r\n\r\n    function getCompressedDataFromZip() {\r\n        if (!input || !Buffer.isBuffer(input)) {\r\n            return Buffer.alloc(0);\r\n        }\r\n        _entryHeader.loadDataHeaderFromBinary(input);\r\n        return input.slice(_entryHeader.realDataOffset, _entryHeader.realDataOffset + _entryHeader.compressedSize)\r\n    }\r\n\r\n    function crc32OK(data) {\r\n        // if bit 3 (0x08) of the general-purpose flags field is set, then the CRC-32 and file sizes are not known when the header is written\r\n        if ((_entryHeader.flags & 0x8) !== 0x8) {\r\n           if (Utils.crc32(data) !== _entryHeader.dataHeader.crc) {\r\n               return false;\r\n           }\r\n        } else {\r\n            // @TODO: load and check data descriptor header\r\n            // The fields in the local header are filled with zero, and the CRC-32 and size are appended in a 12-byte structure\r\n            // (optionally preceded by a 4-byte signature) immediately after the compressed data:\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function decompress(/*Boolean*/async, /*Function*/callback, /*String*/pass) {\r\n        if(typeof callback === 'undefined' && typeof async === 'string') {\r\n            pass=async;\r\n            async=void 0;\r\n        }\r\n        if (_isDirectory) {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0), Utils.Errors.DIRECTORY_CONTENT_ERROR); //si added error.\r\n            }\r\n            return Buffer.alloc(0);\r\n        }\r\n\r\n        var compressedData = getCompressedDataFromZip();\r\n\r\n        if (compressedData.length === 0) {\r\n            // File is empty, nothing to decompress.\r\n            if (async && callback) callback(compressedData);\r\n            return compressedData;\r\n        }\r\n\r\n        var data = Buffer.alloc(_entryHeader.size);\r\n\r\n        switch (_entryHeader.method) {\r\n            case Utils.Constants.STORED:\r\n                compressedData.copy(data);\r\n                if (!crc32OK(data)) {\r\n                    if (async && callback) callback(data, Utils.Errors.BAD_CRC);//si added error\r\n                    throw new Error(Utils.Errors.BAD_CRC);\r\n                } else {//si added otherwise did not seem to return data.\r\n                    if (async && callback) callback(data);\r\n                    return data;\r\n                }\r\n            case Utils.Constants.DEFLATED:\r\n                var inflater = new Methods.Inflater(compressedData);\r\n                if (!async) {\r\n                    var result = inflater.inflate(data);\r\n                    result.copy(data, 0);\r\n                    if (!crc32OK(data)) {\r\n                        throw new Error(Utils.Errors.BAD_CRC + \" \" + _entryName.toString());\r\n                    }\r\n                    return data;\r\n                } else {\r\n                    inflater.inflateAsync(function(result) {\r\n                        result.copy(data, 0);\r\n                        if (!crc32OK(data)) {\r\n                            if (callback) callback(data, Utils.Errors.BAD_CRC); //si added error\r\n                        } else { //si added otherwise did not seem to return data.\r\n                            if (callback) callback(data);\r\n                        }\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                if (async && callback) callback(Buffer.alloc(0), Utils.Errors.UNKNOWN_METHOD);\r\n                throw new Error(Utils.Errors.UNKNOWN_METHOD);\r\n        }\r\n    }\r\n\r\n    function compress(/*Boolean*/async, /*Function*/callback) {\r\n        if ((!uncompressedData || !uncompressedData.length) && Buffer.isBuffer(input)) {\r\n            // no data set or the data wasn't changed to require recompression\r\n            if (async && callback) callback(getCompressedDataFromZip());\r\n            return getCompressedDataFromZip();\r\n        }\r\n\r\n        if (uncompressedData.length && !_isDirectory) {\r\n            var compressedData;\r\n            // Local file header\r\n            switch (_entryHeader.method) {\r\n                case Utils.Constants.STORED:\r\n                    _entryHeader.compressedSize = _entryHeader.size;\r\n\r\n                    compressedData = Buffer.alloc(uncompressedData.length);\r\n                    uncompressedData.copy(compressedData);\r\n\r\n                    if (async && callback) callback(compressedData);\r\n                    return compressedData;\r\n                default:\r\n                case Utils.Constants.DEFLATED:\r\n\r\n                    var deflater = new Methods.Deflater(uncompressedData);\r\n                    if (!async) {\r\n                        var deflated = deflater.deflate();\r\n                        _entryHeader.compressedSize = deflated.length;\r\n                        return deflated;\r\n                    } else {\r\n                        deflater.deflateAsync(function(data) {\r\n                            compressedData = Buffer.alloc(data.length);\r\n                            _entryHeader.compressedSize = data.length;\r\n                            data.copy(compressedData);\r\n                            callback && callback(compressedData);\r\n                        })\r\n                    }\r\n                    deflater = null;\r\n                    break;\r\n            }\r\n        } else {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0));\r\n            } else {\r\n                return Buffer.alloc(0);\r\n            }\r\n        }\r\n    }\r\n\r\n    function readUInt64LE(buffer, offset) {\r\n        return (buffer.readUInt32LE(offset + 4) << 4) + buffer.readUInt32LE(offset);\r\n    }\r\n\r\n    function parseExtra(data) {\r\n        var offset = 0;\r\n        var signature, size, part;\r\n        while(offset<data.length) {\r\n            signature = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            size = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            part = data.slice(offset, offset+size);\r\n            offset += size;\r\n            if(Constants.ID_ZIP64 === signature) {\r\n                parseZip64ExtendedInformation(part);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Override header field values with values from the ZIP64 extra field\r\n    function parseZip64ExtendedInformation(data) {\r\n        var size, compressedSize, offset, diskNumStart;\r\n\r\n        if(data.length >= Constants.EF_ZIP64_SCOMP) {\r\n            size = readUInt64LE(data, Constants.EF_ZIP64_SUNCOMP);\r\n            if(_entryHeader.size === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.size = size;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_RHO) {\r\n            compressedSize = readUInt64LE(data, Constants.EF_ZIP64_SCOMP);\r\n            if(_entryHeader.compressedSize === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.compressedSize = compressedSize;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN) {\r\n            offset = readUInt64LE(data, Constants.EF_ZIP64_RHO);\r\n            if(_entryHeader.offset === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.offset = offset;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN+4) {\r\n            diskNumStart = data.readUInt32LE(Constants.EF_ZIP64_DSN);\r\n            if(_entryHeader.diskNumStart === Constants.EF_ZIP64_OR_16) {\r\n                _entryHeader.diskNumStart = diskNumStart;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        get entryName () { return _entryName.toString(); },\r\n        get rawEntryName() { return _entryName; },\r\n        set entryName (val) {\r\n            _entryName = Utils.toBuffer(val);\r\n            var lastChar = _entryName[_entryName.length - 1];\r\n            _isDirectory = (lastChar === 47) || (lastChar === 92);\r\n            _entryHeader.fileNameLength = _entryName.length;\r\n        },\r\n\r\n        get extra () { return _extra; },\r\n        set extra (val) {\r\n            _extra = val;\r\n            _entryHeader.extraLength = val.length;\r\n            parseExtra(val);\r\n        },\r\n\r\n        get comment () { return _comment.toString(); },\r\n        set comment (val) {\r\n            _comment = Utils.toBuffer(val);\r\n            _entryHeader.commentLength = _comment.length;\r\n        },\r\n\r\n        get name () { var n = _entryName.toString(); return _isDirectory ? n.substr(n.length - 1).split(\"/\").pop() : n.split(\"/\").pop(); },\r\n        get isDirectory () { return _isDirectory },\r\n\r\n        getCompressedData : function() {\r\n            return compress(false, null)\r\n        },\r\n\r\n        getCompressedDataAsync : function(/*Function*/callback) {\r\n            compress(true, callback)\r\n        },\r\n\r\n        setData : function(value) {\r\n            uncompressedData = Utils.toBuffer(value);\r\n            if (!_isDirectory && uncompressedData.length) {\r\n                _entryHeader.size = uncompressedData.length;\r\n                _entryHeader.method = Utils.Constants.DEFLATED;\r\n                _entryHeader.crc = Utils.crc32(value);\r\n                _entryHeader.changed = true;\r\n            } else { // folders and blank files should be stored\r\n                _entryHeader.method = Utils.Constants.STORED;\r\n            }\r\n        },\r\n\r\n        getData : function(pass) {\r\n            if (_entryHeader.changed) {\r\n\t\t\t\treturn uncompressedData;\r\n\t\t\t} else {\r\n\t\t\t\treturn decompress(false, null, pass);\r\n            }\r\n        },\r\n\r\n        getDataAsync : function(/*Function*/callback, pass) {\r\n\t\t\tif (_entryHeader.changed) {\r\n\t\t\t\tcallback(uncompressedData)\r\n\t\t\t} else {\r\n\t\t\t\tdecompress(true, callback, pass)\r\n            }\r\n        },\r\n\r\n        set attr(attr) { _entryHeader.attr = attr; },\r\n        get attr() { return _entryHeader.attr; },\r\n\r\n        set header(/*Buffer*/data) {\r\n            _entryHeader.loadFromBinary(data);\r\n        },\r\n\r\n        get header() {\r\n            return _entryHeader;\r\n        },\r\n\r\n        packHeader : function() {\r\n            var header = _entryHeader.entryHeaderToBinary();\r\n            // add\r\n            _entryName.copy(header, Utils.Constants.CENHDR);\r\n            if (_entryHeader.extraLength) {\r\n                _extra.copy(header, Utils.Constants.CENHDR + _entryName.length)\r\n            }\r\n            if (_entryHeader.commentLength) {\r\n                _comment.copy(header, Utils.Constants.CENHDR + _entryName.length + _entryHeader.extraLength, _comment.length);\r\n            }\r\n            return header;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"entryName\" : \"' + _entryName.toString() + \"\\\",\\n\" +\r\n                '\\t\"name\" : \"' + (_isDirectory ? _entryName.toString().replace(/\\/$/, '').split(\"/\").pop() : _entryName.toString().split(\"/\").pop()) + \"\\\",\\n\" +\r\n                '\\t\"comment\" : \"' + _comment.toString() + \"\\\",\\n\" +\r\n                '\\t\"isDirectory\" : ' + _isDirectory + \",\\n\" +\r\n                '\\t\"header\" : ' + _entryHeader.toString().replace(/\\t/mg, \"\\t\\t\").replace(/}/mg, \"\\t}\")  + \",\\n\" +\r\n                '\\t\"compressedData\" : <' + (input && input.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '\\t\"data\" : <' + (uncompressedData && uncompressedData.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","var ZipEntry = require(\"./zipEntry\"),\r\n\tHeaders = require(\"./headers\"),\r\n\tUtils = require(\"./util\");\r\n\r\nmodule.exports = function (/*String|Buffer*/input, /*Number*/inputType) {\r\n\tvar entryList = [],\r\n\t\tentryTable = {},\r\n\t\t_comment = Buffer.alloc(0),\r\n\t\tfilename = \"\",\r\n\t\tfs = Utils.FileSystem.require(),\r\n\t\tinBuffer = null,\r\n\t\tmainHeader = new Headers.MainHeader(),\r\n\t\tloadedEntries = false;\r\n\r\n\tif (inputType === Utils.Constants.FILE) {\r\n\t\t// is a filename\r\n\t\tfilename = input;\r\n\t\tinBuffer = fs.readFileSync(filename);\r\n\t\treadMainHeader();\r\n\t} else if (inputType === Utils.Constants.BUFFER) {\r\n\t\t// is a memory buffer\r\n\t\tinBuffer = input;\r\n\t\treadMainHeader();\r\n\t} else {\r\n\t\t// none. is a new file\r\n\t\tloadedEntries = true;\r\n\t}\r\n\r\n\tfunction iterateEntries(callback) {\r\n\t\tconst totalEntries = mainHeader.diskEntries; // total number of entries\r\n\t\tlet index = mainHeader.offset; // offset of first CEN header\r\n\r\n\t\tfor (let i = 0; i < totalEntries; i++) {\r\n\t\t\tlet tmp = index;\r\n\t\t\tconst entry = new ZipEntry(inBuffer);\r\n\r\n\t\t\tentry.header = inBuffer.slice(tmp, tmp += Utils.Constants.CENHDR);\r\n\t\t\tentry.entryName = inBuffer.slice(tmp, tmp += entry.header.fileNameLength);\r\n\r\n\t\t\tindex += entry.header.entryHeaderSize;\r\n\r\n\t\t\tcallback(entry);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction readEntries() {\r\n\t\tloadedEntries = true;\r\n\t\tentryTable = {};\r\n\t\tentryList = new Array(mainHeader.diskEntries);  // total number of entries\r\n\t\tvar index = mainHeader.offset;  // offset of first CEN header\r\n\t\tfor (var i = 0; i < entryList.length; i++) {\r\n\r\n\t\t\tvar tmp = index,\r\n\t\t\t\tentry = new ZipEntry(inBuffer);\r\n\t\t\tentry.header = inBuffer.slice(tmp, tmp += Utils.Constants.CENHDR);\r\n\r\n\t\t\tentry.entryName = inBuffer.slice(tmp, tmp += entry.header.fileNameLength);\r\n\r\n\t\t\tif (entry.header.extraLength) {\r\n\t\t\t\tentry.extra = inBuffer.slice(tmp, tmp += entry.header.extraLength);\r\n\t\t\t}\r\n\r\n\t\t\tif (entry.header.commentLength)\r\n\t\t\t\tentry.comment = inBuffer.slice(tmp, tmp + entry.header.commentLength);\r\n\r\n\t\t\tindex += entry.header.entryHeaderSize;\r\n\r\n\t\t\tentryList[i] = entry;\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction readMainHeader() {\r\n\t\tvar i = inBuffer.length - Utils.Constants.ENDHDR, // END header size\r\n\t\t\tmax = Math.max(0, i - 0xFFFF), // 0xFFFF is the max zip file comment length\r\n\t\t\tn = max,\r\n\t\t\tendStart = inBuffer.length,\r\n\t\t\tendOffset = -1, // Start offset of the END header\r\n\t\t\tcommentEnd = 0;\r\n\r\n\t\tfor (i; i >= n; i--) {\r\n\t\t\tif (inBuffer[i] !== 0x50) continue; // quick check that the byte is 'P'\r\n\t\t\tif (inBuffer.readUInt32LE(i) === Utils.Constants.ENDSIG) { // \"PK\\005\\006\"\r\n\t\t\t\tendOffset = i;\r\n\t\t\t\tcommentEnd = i;\r\n\t\t\t\tendStart = i + Utils.Constants.ENDHDR;\r\n\t\t\t\t// We already found a regular signature, let's look just a bit further to check if there's any zip64 signature\r\n\t\t\t\tn = i - Utils.Constants.END64HDR;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (inBuffer.readUInt32LE(i) === Utils.Constants.END64SIG) {\r\n\t\t\t\t// Found a zip64 signature, let's continue reading the whole zip64 record\r\n\t\t\t\tn = max;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (inBuffer.readUInt32LE(i) == Utils.Constants.ZIP64SIG) {\r\n\t\t\t\t// Found the zip64 record, let's determine it's size\r\n\t\t\t\tendOffset = i;\r\n\t\t\t\tendStart = i + Utils.readBigUInt64LE(inBuffer, i + Utils.Constants.ZIP64SIZE) + Utils.Constants.ZIP64LEAD;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!~endOffset)\r\n\t\t\tthrow new Error(Utils.Errors.INVALID_FORMAT);\r\n\r\n\t\tmainHeader.loadFromBinary(inBuffer.slice(endOffset, endStart));\r\n\t\tif (mainHeader.commentLength) {\r\n\t\t\t_comment = inBuffer.slice(commentEnd + Utils.Constants.ENDHDR);\r\n\t\t}\r\n\t\t// readEntries();\r\n\t}\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects existent in the current opened archive\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tget entries() {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\treturn entryList;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Archive comment\r\n\t\t * @return {String}\r\n\t\t */\r\n\t\tget comment() {\r\n\t\t\treturn _comment.toString();\r\n\t\t},\r\n\t\tset comment(val) {\r\n\t\t\tmainHeader.commentLength = val.length;\r\n\t\t\t_comment = val;\r\n\t\t},\r\n\r\n\t\tgetEntryCount: function() {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treturn mainHeader.diskEntries;\r\n\t\t\t}\r\n\r\n\t\t\treturn entryList.length;\r\n\t\t},\r\n\r\n\t\tforEach: function(callback) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\titerateEntries(callback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tentryList.forEach(callback);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a reference to the entry with the given name or null if entry is inexistent\r\n\t\t *\r\n\t\t * @param entryName\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/*String*/entryName) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\treturn entryTable[entryName] || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds the given entry to the entry list\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tsetEntry: function (/*ZipEntry*/entry) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tentryList.push(entry);\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Removes the entry with the given name from the entry list.\r\n\t\t *\r\n\t\t * If the entry is a directory, then all nested files and directories will be removed\r\n\t\t * @param entryName\r\n\t\t */\r\n\t\tdeleteEntry: function (/*String*/entryName) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tvar entry = entryTable[entryName];\r\n\t\t\tif (entry && entry.isDirectory) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tthis.getEntryChildren(entry).forEach(function (child) {\r\n\t\t\t\t\tif (child.entryName !== entryName) {\r\n\t\t\t\t\t\t_self.deleteEntry(child.entryName)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tentryList.splice(entryList.indexOf(entry), 1);\r\n\t\t\tdelete(entryTable[entryName]);\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *  Iterates and returns all nested files and directories of the given entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntryChildren: function (/*ZipEntry*/entry) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entry.isDirectory) {\r\n\t\t\t\tvar list = [],\r\n\t\t\t\t\tname = entry.entryName,\r\n\t\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\tentryList.forEach(function (zipEntry) {\r\n\t\t\t\t\tif (zipEntry.entryName.substr(0, len) === name) {\r\n\t\t\t\t\t\tlist.push(zipEntry);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t\treturn []\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip file\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\tcompressToBuffer: function () {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tentryList.forEach(function (entry) {\r\n\t\t\t\t// compress data and set local and entry header accordingly. Reason why is called first\r\n\t\t\t\tvar compressedData = entry.getCompressedData();\r\n\t\t\t\t// data header\r\n\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\tvar entryNameLen = entry.rawEntryName.length;\r\n\t\t\t\tvar extra = entry.extra.toString();\r\n\t\t\t\tvar postHeader = Buffer.alloc(entryNameLen + extra.length);\r\n\t\t\t\tentry.rawEntryName.copy(postHeader, 0);\r\n\t\t\t\tpostHeader.fill(extra, entryNameLen);\r\n\r\n\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\t\t\t});\r\n\r\n\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\tdindex = 0;\r\n\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\r\n\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\tif (_comment) {\r\n\t\t\t\tBuffer.from(_comment).copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t}\r\n\r\n\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\treturn outBuffer\r\n\t\t},\r\n\r\n\t\ttoAsyncBuffer: function (/*Function*/onSuccess, /*Function*/onFail, /*Function*/onItemStart, /*Function*/onItemEnd) {\r\n\t\t\tif (!loadedEntries) {\r\n\t\t\t\treadEntries();\r\n\t\t\t}\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tvar compress = function (entryList) {\r\n\t\t\t\tvar self = arguments.callee;\r\n\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\tvar entry = entryList.pop();\r\n\t\t\t\t\tvar name = entry.entryName + entry.extra.toString();\r\n\t\t\t\t\tif (onItemStart) onItemStart(name);\r\n\t\t\t\t\tentry.getCompressedDataAsync(function (compressedData) {\r\n\t\t\t\t\t\tif (onItemEnd) onItemEnd(name);\r\n\r\n\t\t\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\t\t\t// data header\r\n\t\t\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\t\t\tvar postHeader;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tpostHeader = Buffer.alloc(name.length, name);  // using alloc will work on node  5.x+\r\n\t\t\t\t\t\t} catch(e){\r\n\t\t\t\t\t\t\tpostHeader = new Buffer(name); // use deprecated method if alloc fails...\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\r\n\t\t\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\t\t\tself(entryList);\r\n\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t\t\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\t\t\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\t\t\t\t\tdindex = 0;\r\n\t\t\t\t\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\t\t\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\t\t\t\t\tif (_comment) {\r\n\t\t\t\t\t\t\t\t_comment.copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\t\t\t\t\tonSuccess(outBuffer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tcompress(entryList);\r\n\t\t}\r\n\t}\r\n};\r\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","import * as vscode from \"vscode\";\nimport * as util from \"../util/util\";\nimport * as prompts from \"../util/vscodePrompts\";\nimport * as path from \"path\";\nimport { OPEN_NEW_PROJECT_OPTIONS, ERRORS } from \"../constants\";\nimport * as mpStarterApi from \"../util/mpStarterApi\";\n\nexport async function generateProject(): Promise<void> {\n  try {\n    const mpSupportMatrix = await mpStarterApi.getSupportMatrix();\n    // mpConfigurations is a map of mp version -> mp configuration\n    const mpConfigurations = mpSupportMatrix.configs;\n    const allMpVersions = Object.keys(mpConfigurations);\n\n    const groupId = await prompts.askForGroupID();\n    if (groupId === undefined) {\n      return;\n    }\n\n    const artifactId = await prompts.askForArtifactID();\n    if (artifactId === undefined) {\n      return;\n    }\n\n    const mpVersion = await prompts.askForMPVersion(allMpVersions);\n    if (mpVersion === undefined) {\n      return;\n    }\n\n    // ask user to select one of the servers that are available for the version of mp they selected\n    const mpServer = await prompts.askForMPServer(mpConfigurations[mpVersion].supportedServers);\n    if (mpServer === undefined) {\n      return;\n    }\n\n    // gets support information about which JavaSE versions / microprofile specs are supported by the\n    // users selected mp server / mp version combination\n    const { buildTools, javaSEVersions, mpSpecs } = await mpStarterApi.getSupportedJavaAndSpecs(\n      mpServer,\n      mpVersion\n    );\n\n    const javaSEVersion = await prompts.askForJavaSEVersion(javaSEVersions);\n    if (javaSEVersion === undefined) {\n      return;\n    }\n\n    const buildTool = await prompts.askForBuildTool(buildTools);\n    if (buildTool === undefined) {\n      return;\n    }\n\n    const specDescriptions = mpSupportMatrix.descriptions;\n    const mpSpecifications = await prompts.askForMPSpecifications(mpSpecs, specDescriptions);\n    if (mpSpecifications === undefined) {\n      return;\n    }\n\n    const targetFolder = await prompts.askForTargetFolder(artifactId);\n    if (targetFolder === undefined) {\n      return;\n    }\n\n    const targetDirString = targetFolder.fsPath;\n\n    const projectOptions = {\n      groupId: groupId,\n      artifactId: artifactId,\n      mpVersion: mpVersion,\n      supportedServer: mpServer,\n      javaSEVersion: javaSEVersion,\n      buildTool: buildTool,\n      selectedSpecs: mpSpecifications,\n    };\n\n    const zipName = `${artifactId}.zip`;\n    // location to download the zip file\n    const zipPath = path.join(targetDirString, zipName);\n\n    // show a progress bar as the zip file is being downloaded\n    await vscode.window.withProgress(\n      {\n        location: vscode.ProgressLocation.Notification,\n        title: \"Generating the MicroProfile Starter project...\",\n        cancellable: false,\n      },\n      () => mpStarterApi.downloadMPStarterProjectZip(projectOptions, zipPath)\n    );\n\n    const targetDirFolder = path.join(targetDirString, artifactId);\n\n    try {\n      await util.unzipFile(zipPath, targetDirString, targetDirFolder);\n    } catch (e) {\n      console.error(e);\n      const err = new Error(\"Unable to extract MicroProfile Starter project\");\n      err.name = ERRORS.EXTRACT_PROJECT_ERROR;\n      throw err;\n    }\n\n    // if failed to delete the zip, no need to error out but show a warning to users\n    try {\n      await util.deleteFile(zipPath);\n    } catch (e) {\n      console.error(e);\n      vscode.window.showErrorMessage(`Failed to delete file ${zipName}`);\n    }\n\n    const uriPath = vscode.Uri.file(targetDirFolder);\n    // prompt user whether they want to add project to current workspace or open in a new window\n    const selection = await vscode.window.showInformationMessage(\n      \"MicroProfile Starter project generated.  Add your project to the current workspace or open it in a new window?\",\n      ...[OPEN_NEW_PROJECT_OPTIONS.ADD_CURRENT_WORKSPACE, OPEN_NEW_PROJECT_OPTIONS.OPEN_NEW_WINDOW]\n    );\n    if (selection === OPEN_NEW_PROJECT_OPTIONS.ADD_CURRENT_WORKSPACE) {\n      vscode.workspace.updateWorkspaceFolders(0, 0, { uri: uriPath });\n      vscode.commands.executeCommand(\"workbench.view.explorer\");\n    } else if (selection === OPEN_NEW_PROJECT_OPTIONS.OPEN_NEW_WINDOW) {\n      await vscode.commands.executeCommand(\"vscode.openFolder\", uriPath, true);\n    }\n  } catch (e) {\n    console.error(e);\n    if (e.name === ERRORS.FETCH_ERROR) {\n      vscode.window.showErrorMessage(\n        \"Failed to connect to the MicroProfile Starter. Please check your network connection and try again.\"\n      );\n    } else if (e.name === ERRORS.EXTRACT_PROJECT_ERROR) {\n      vscode.window.showErrorMessage(\"Failed to extract the MicroProfile Starter project\");\n    } else {\n      vscode.window.showErrorMessage(\"Failed to generate a MicroProfile Starter project\");\n    }\n  }\n}\n","export const MP_STARTER_API_ROOT = \"https://start.microprofile.io/api/6\";\n\nexport const MP_VERSION_LABELS: Record<string, string> = {\n  MP50: \"Version 5.0\",\n  MP41: \"Version 4.1\",\n  MP40: \"Version 4.0\",\n  MP33: \"Version 3.3\",\n  MP32: \"Version 3.2\",\n  MP30: \"Version 3.0\",\n  MP22: \"Version 2.2\",\n  MP21: \"Version 2.1\",\n  MP20: \"Version 2.0\",\n  MP14: \"Version 1.4\",\n  MP13: \"Version 1.3\",\n  MP12: \"Version 1.2\",\n};\n\nexport const MP_SERVER_LABELS: Record<string, string> = {\n  LIBERTY: \"Open Liberty\",\n  HELIDON: \"Helidon\",\n  PAYARA_MICRO: \"Payara Micro\",\n  THORNTAIL_V2: \"Thorntail Version 2\",\n  KUMULUZEE: \"KumuluzEE\",\n  TOMEE: \"Apache TomEE 8.00-M3\",\n  WILDFLY: \"WildFly\",\n  WILDFLY_SWARM: \"WildFly Swarm\",\n  QUARKUS: \"Quarkus\",\n};\n\nexport const OPEN_NEW_PROJECT_OPTIONS = {\n  ADD_CURRENT_WORKSPACE: \"Add to current workspace\",\n  OPEN_NEW_WINDOW: \"Open in new window\",\n};\n\nexport const EXTENSION_USER_AGENT = \"Visual Studio Code\";\n\nexport const CONFIRM_OPTIONS = {\n  YES: \"Yes\",\n  NO: \"No\",\n};\n\nexport const ERRORS = {\n  FETCH_ERROR: \"FetchError\",\n  EXTRACT_PROJECT_ERROR: \"ExtractProjectError\",\n};\n","import { MP_STARTER_API_ROOT, EXTENSION_USER_AGENT } from \"../constants\";\nimport fetch from \"node-fetch\";\nimport * as util from \"../util/util\";\n\ninterface MPVersionSupport {\n  supportedServers: string[];\n  specs: string[];\n}\n\ninterface SupportMatrix {\n  configs: Record<string, MPVersionSupport>;\n  descriptions: Record<string, string>;\n}\n\nexport async function getSupportMatrix(): Promise<SupportMatrix> {\n  const mpSupportResponse = await fetch(`${MP_STARTER_API_ROOT}/supportMatrix`, {\n    method: \"GET\",\n    headers: {\n      \"User-Agent\": EXTENSION_USER_AGENT,\n    },\n  });\n  if (mpSupportResponse.status >= 400 && mpSupportResponse.status < 600) {\n    throw new Error(`Bad response ${mpSupportResponse.status}: ${mpSupportResponse.statusText}`);\n  }\n\n  return mpSupportResponse.json();\n}\n\ninterface SupportDetails {\n  mpVersion: string;\n  mpSpecs: string[];\n  javaSEVersions: string[];\n  buildTools: string[];\n}\n\nexport async function getSupportedJavaAndSpecs(\n  serverName: string,\n  microprofileVersion: string\n): Promise<SupportDetails> {\n  const serverSupportResponse = await fetch(`${MP_STARTER_API_ROOT}/supportMatrix/servers`, {\n    method: \"GET\",\n    headers: {\n      \"User-Agent\": EXTENSION_USER_AGENT,\n    },\n  });\n  if (serverSupportResponse.status >= 400 && serverSupportResponse.status < 600) {\n    throw new Error(\n      `Bad response ${serverSupportResponse.status}: ${serverSupportResponse.statusText}`\n    );\n  }\n\n  const supportJSON = await serverSupportResponse.json();\n  const serverInformation = supportJSON.configs[serverName];\n  const supportDetails: SupportDetails | undefined = serverInformation.find(\n    (supportRecord: SupportDetails) => supportRecord.mpVersion === microprofileVersion\n  );\n  if (supportDetails === undefined) {\n    throw new Error(\"Unable to find supported MicroProfile specifications and Java versions\");\n  }\n\n  return supportDetails;\n}\n\ninterface StarterProjectOptions {\n  groupId: string;\n  artifactId: string;\n  mpVersion: string;\n  supportedServer: string;\n  javaSEVersion: string;\n  selectedSpecs: string[];\n}\n\nexport async function downloadMPStarterProjectZip(\n  options: StarterProjectOptions,\n  downloadLocation: string\n): Promise<void> {\n  const requestOptions = {\n    url: `${MP_STARTER_API_ROOT}/project`,\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": EXTENSION_USER_AGENT,\n    },\n    body: JSON.stringify(options),\n  };\n\n  await util.downloadFile(requestOptions, downloadLocation);\n}\n","import * as fs from \"fs\";\nimport fetch from \"node-fetch\";\nimport { pipeline } from \"stream\";\nimport { promisify } from \"util\";\nimport * as admZip from \"adm-zip\";\nimport * as path from \"path\";\nimport * as vscode from \"vscode\";\n\ninterface RequestOptions {\n  url: string;\n}\n\n// Downloads a file using streams to avoid loading entire file into memory\nexport async function downloadFile(\n  requestOptions: RequestOptions,\n  downloadLocation: string\n): Promise<void> {\n  const { url, ...options } = requestOptions;\n  const res = await fetch(url, options);\n  if (res.status >= 400 && res.status < 600) {\n    throw new Error(`Bad response from server ${res.status}: ${res.statusText}`);\n  }\n\n  return new Promise((resolve, reject) => {\n    // create a pipeline that pipes the response to the download location\n    pipeline(res.body, fs.createWriteStream(downloadLocation), err => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n}\n\nexport const deleteFolder = (parent: string) => {\n  if (fs.existsSync(parent)) {\n    //go through each element in the directory\n    fs.readdirSync(parent).forEach((entry, index) => {\n      const currentPath = path.join(parent, entry);\n      // if it is a file -> delete\n      //if it is directory -> drill down further and repeat\n      if (fs.lstatSync(currentPath).isDirectory()) {\n        deleteFolder(currentPath);\n      } else {\n        fs.unlinkSync(currentPath);\n      }\n    });\n    // finally remove parent directory\n    try {\n      fs.rmdirSync(parent);\n    } catch (e) {\n      vscode.workspace.workspaceFolders?.forEach((entry, index) => {\n        if (entry.name === parent) {\n          vscode.commands.executeCommand(\"workbench.action.removeRootFolder\");\n          fs.rmdirSync(parent);\n        }\n      });\n    }\n  }\n};\n\nexport const deleteFile = promisify(fs.unlink);\n\nexport const exists = promisify(fs.exists);\n\nexport function trimCapitalizeFirstLetter(str: string): string {\n  const newStr = str.trim();\n  return newStr.charAt(0).toUpperCase() + newStr.slice(1);\n}\n\nexport async function unzipFile(\n  zipPath: string,\n  targetDir: string,\n  targetDirFolder: string\n): Promise<void> {\n  const zip = new admZip(zipPath);\n  zip.extractAllTo(targetDir, false);\n  const zipFolderExists = await exists(targetDirFolder);\n  return new Promise((resolve, reject) => {\n    if (zipFolderExists) {\n      resolve();\n    } else {\n      reject(new Error(\"Unable to extract zip folder: \" + targetDirFolder));\n    }\n  });\n}\n\nexport async function validateGroupId(groupId: string): Promise<string | undefined> {\n  // regex referenced from\n  // https://github.com/redhat-developer/vscode-quarkus/blob/master/src/wizards/generateProject/validateInput.ts\n  const re = new RegExp(\"^([a-zA-Z_$][a-zA-Z\\\\d_$]*\\\\.)*[a-zA-Z_$][a-zA-Z\\\\d_$]*$\");\n  if (!re.test(groupId)) {\n    if (!/^[a-zA-Z_$]/.test(groupId)) {\n      return \"Invalid groupId: A valid groupId must start with a character from A to z, or one of the following symbols: _$\";\n    } else if (!/[a-zA-Z\\\\d_$]$/.test(groupId)) {\n      return \"Invalid groupId: A valid groupId must end with a character from A to z, a number, or one of the following symbols: _$\";\n    }\n    return \"Invalid groupId: A valid groupId can only contain characters from A to z, numbers, and the following symbols: ._$\";\n  }\n  return undefined;\n}\n\nexport async function validateArtifactId(artifactId: string): Promise<string | undefined> {\n  // regex referenced from\n  // https://github.com/redhat-developer/vscode-quarkus/blob/master/src/wizards/generateProject/validateInput.ts\n  const re = new RegExp(\"^[a-z][a-z0-9-._]*$\");\n  if (!re.test(artifactId)) {\n    if (!/^[a-z]/.test(artifactId)) {\n      return \"Invalid artifactId: A valid artifactId must start with a character from a-z\";\n    }\n    return \"Invalid artifactId: A valid artifactId can only contain characters from a-z, numbers, and the following symbols: -._\";\n  }\n  return undefined;\n}\n","import * as vscode from \"vscode\";\nimport * as path from \"path\";\nimport { OpenDialogOptions, Uri, window, QuickPickItem } from \"vscode\";\nimport { MP_SERVER_LABELS, MP_VERSION_LABELS, CONFIRM_OPTIONS } from \"../constants\";\nimport {\n  trimCapitalizeFirstLetter,\n  exists,\n  deleteFolder,\n  validateArtifactId,\n  validateGroupId,\n} from \"./util\";\n\nexport async function askForGroupID(): Promise<string | undefined> {\n  return await vscode.window.showInputBox({\n    placeHolder: \"e.g. com.example\",\n    prompt: \"Specify a Group Id for your project.\",\n    value: \"com.example\",\n    ignoreFocusOut: true,\n    validateInput: validateGroupId,\n  });\n}\n\nexport async function askForArtifactID(): Promise<string | undefined> {\n  return await vscode.window.showInputBox({\n    placeHolder: \"demo\",\n    prompt: \"Specify an Artifact Id for your project.\",\n    value: \"demo\",\n    ignoreFocusOut: true,\n    validateInput: validateArtifactId,\n  });\n}\n\nexport async function askForJavaSEVersion(\n  supportedJavaSEVersions: string[]\n): Promise<string | undefined> {\n  return await vscode.window.showQuickPick(supportedJavaSEVersions, {\n    ignoreFocusOut: true,\n    placeHolder: \"Select a Java SE version.\",\n  });\n}\n\nexport async function askForBuildTool(supportedBuildTools: string[]): Promise<string | undefined> {\n  const supportedBuildToolsOptions: string[] = [];\n  for (const buildTool of supportedBuildTools) {\n    const lower = buildTool.toLowerCase();\n    const formattedBuildTool = lower.charAt(0).toUpperCase() + lower.substring(1);\n    supportedBuildToolsOptions.push(formattedBuildTool);\n  }\n  const buildToolQuickPickResult = await vscode.window.showQuickPick(supportedBuildToolsOptions, {\n    ignoreFocusOut: true,\n    placeHolder: \"Select a build tool.\",\n  });\n  if (buildToolQuickPickResult != null) {\n    return buildToolQuickPickResult.toUpperCase();\n  }\n  return undefined;\n}\n\nexport async function askForMPVersion(mpVersions: string[]): Promise<string | undefined> {\n  interface MPVersionOption extends QuickPickItem {\n    label: string; // label is the long-name that is displayed in vscode\n    version: string; // version is the short-name that is used internally by the microprofile starter api\n  }\n\n  const mpVersionOptions: MPVersionOption[] = [];\n  for (const mpVersion of mpVersions) {\n    // if we have a label defined for the given MP version short-name add it to the options array\n    if (MP_VERSION_LABELS[mpVersion] != null) {\n      mpVersionOptions.push({\n        label: MP_VERSION_LABELS[mpVersion],\n        version: mpVersion,\n      });\n    }\n  }\n\n  const mpVersionQuickPickResult = await vscode.window.showQuickPick(mpVersionOptions, {\n    ignoreFocusOut: true,\n    placeHolder: \"Select a MicroProfile version.\",\n  });\n\n  if (mpVersionQuickPickResult != null) {\n    return mpVersionQuickPickResult.version;\n  }\n\n  return undefined;\n}\n\nexport async function askForMPServer(mpServers: string[]): Promise<string | undefined> {\n  interface MPServerOption extends QuickPickItem {\n    label: string; // label is the long-name that is displayed in vscode\n    server: string; // server is the short-name that is used internally by the microprofile starter api\n  }\n\n  const mpServerOptions: MPServerOption[] = [];\n  for (const mpServer of mpServers) {\n    // if we have a server label for the given mp server short-name add it to the options array\n    if (MP_SERVER_LABELS[mpServer] != null) {\n      mpServerOptions.push({\n        label: MP_SERVER_LABELS[mpServer],\n        server: mpServer,\n      });\n    }\n  }\n\n  const mpVersionQuickPickResult = await vscode.window.showQuickPick(mpServerOptions, {\n    ignoreFocusOut: true,\n    placeHolder: \"Select a MicroProfile server.\",\n  });\n\n  if (mpVersionQuickPickResult != null) {\n    return mpVersionQuickPickResult.server;\n  }\n  return undefined;\n}\n\nexport async function askForMPSpecifications(\n  specs: string[],\n  specDescriptions: Record<string, string>\n): Promise<Array<string> | undefined> {\n  interface MPSpecOption extends QuickPickItem {\n    spec: string; // spec is the short-name used internally my microprofile starter api\n    label: string; // name of mp spec\n    detail: string; // description of mp spec\n  }\n\n  const mpSpecOptions: MPSpecOption[] = specs.map(spec => {\n    const fullDescription = specDescriptions[spec];\n    const [name, desc] = fullDescription.split(\"-\");\n    return {\n      spec: spec,\n      label: name,\n      detail: trimCapitalizeFirstLetter(desc),\n    };\n  });\n\n  const specResults: MPSpecOption[] | undefined = await vscode.window.showQuickPick(mpSpecOptions, {\n    ignoreFocusOut: true,\n    canPickMany: true,\n    placeHolder: \"Select MicroProfile specifications.\",\n  });\n\n  if (specResults != null) {\n    return specResults.map(result => result.spec);\n  }\n  return undefined;\n}\n\nexport async function askForFolder(customOptions: OpenDialogOptions): Promise<Uri | undefined> {\n  const options: OpenDialogOptions = {\n    canSelectFiles: false,\n    canSelectFolders: true,\n    canSelectMany: false,\n  };\n  const result = await window.showOpenDialog(Object.assign(options, customOptions));\n\n  if (result && result.length > 0) {\n    return result[0];\n  }\n\n  return undefined;\n}\n\nexport async function askForTargetFolder(artifactId: string): Promise<Uri | undefined> {\n  const customOptions: OpenDialogOptions = {\n    openLabel: \"Generate into this folder\",\n  };\n\n  const targetFolder = await askForFolder(customOptions);\n\n  if (targetFolder && (await exists(path.join(targetFolder.fsPath, artifactId)))) {\n    const selection = await askConfirmation(\n      `Folder ${artifactId} already exists inside the ${targetFolder.fsPath} folder. The ${artifactId} folder will be deleted and replaced with the generated MicroProfile Starter project. Are you sure you want to generate into this folder?`\n    );\n    if (selection === CONFIRM_OPTIONS.YES) {\n      // delete the existing folder.\n      try {\n        deleteFolder(path.join(targetFolder.fsPath, artifactId));\n      } catch (e) {\n        //the folder is in use\n        vscode.window.showErrorMessage(\n          `Failed to delete folder ${targetFolder.fsPath} because it is being used by another process. Failed to generate a MicroProfile Starter project.`\n        );\n      }\n    } else if (selection === CONFIRM_OPTIONS.NO) {\n      return await askForTargetFolder(artifactId);\n    }\n  }\n\n  return targetFolder;\n}\n\nexport async function askConfirmation(message: string): Promise<string | undefined> {\n  return await vscode.window.showWarningMessage(\n    message,\n    ...[CONFIRM_OPTIONS.YES, CONFIRM_OPTIONS.NO]\n  );\n}\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"stream\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"url\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"https\");","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as vscode from \"vscode\";\nimport { generateProject } from \"./commands/generateProject\";\n\n// this method is called when the extension is activated\n// the extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext): void {\n  context.subscriptions.push(\n    vscode.commands.registerCommand(\"extension.microProfileStarter\", generateProject)\n  );\n}\n\n// this method is called when the extension is deactivated\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function deactivate(): void {}\n"],"names":["Utils","fs","FileSystem","require","pth","existsSync","ZipEntry","ZipFile","test","process","platform","module","exports","input","_zip","undefined","_filename","Error","Errors","INVALID_FILENAME","Constants","FILE","Buffer","isBuffer","BUFFER","NONE","sanitize","prefix","name","resolve","normalize","parts","split","i","l","length","path","join","slice","sep","indexOf","basename","getEntry","entry","item","entryName","header","readFile","getData","readFileAsync","callback","getDataAsync","readAsText","encoding","data","toString","readAsTextAsync","err","deleteFile","deleteEntry","addZipComment","comment","getZipComment","addZipEntryComment","getZipEntryComment","updateFile","content","setData","addLocalFile","localPath","zipPath","zipName","FILE_NOT_FOUND","replace","charAt","p","pop","this","addFile","readFileSync","addLocalFolder","filter","RegExp","filename","items","findFiles","self","forEach","alloc","addLocalFolderAsync","open","fd","code","next","attr","isDirectory","setEntry","getEntries","entries","getEntryCount","extractEntryTo","targetPath","maintainEntryPath","overwrite","NO_ENTRY","target","getEntryChildren","child","CANT_EXTRACT_FILE","childName","writeFileTo","CANT_OVERRIDE","extractAllTo","NO_ZIP","makeDir","utimesSync","time","extractAllToAsync","writeFileToAsync","succ","writeZip","targetFileName","arguments","zipData","compressToBuffer","ok","toBuffer","onSuccess","onFail","onItemStart","onItemEnd","valueOf","toAsyncBuffer","_verMade","_version","_flags","_method","_time","_crc","_compressedSize","_size","_fnameLen","_extraLen","_comLen","_diskStart","_inattr","_attr","_offset","_dataHeader","setTime","val","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","made","version","flags","method","crc","compressedSize","size","fileNameLength","extraLength","commentLength","diskNumStart","inAttr","offset","encripted","entryHeaderSize","CENHDR","realDataOffset","LOCHDR","fnameLen","extraLen","dataHeader","loadDataHeaderFromBinary","readUInt32LE","LOCSIG","INVALID_LOC","readUInt16LE","LOCVER","LOCFLG","LOCHOW","LOCTIM","LOCCRC","LOCSIZ","LOCLEN","LOCNAM","LOCEXT","loadFromBinary","CENSIG","INVALID_CEN","CENVEM","CENVER","CENFLG","CENHOW","CENTIM","CENCRC","CENSIZ","CENLEN","CENNAM","CENEXT","CENCOM","CENDSK","CENATT","CENATX","CENOFF","dataHeaderToBinary","writeUInt32LE","writeUInt16LE","entryHeaderToBinary","fill","methodToString","toUpperCase","EntryHeader","MainHeader","_volumeEntries","_totalEntries","_commentLength","diskEntries","totalEntries","mainHeaderSize","ENDHDR","ENDSIG","ZIP64HDR","ZIP64SIG","INVALID_END","ENDSUB","ENDTOT","ENDSIZ","ENDOFF","ENDCOM","readBigUInt64LE","ZIP64SUB","ZIP64TOT","ZIP64SIZ","ZIP64OFF","toBinary","b","inbuf","zlib","opts","chunkSize","parseInt","deflate","deflateRawSync","deflateAsync","tmp","createDeflateRaw","total","on","push","buf","written","part","copy","end","Deflater","Inflater","inflate","inflateRawSync","inflateAsync","createInflateRaw","EXTSIG","EXTHDR","EXTCRC","EXTSIZ","EXTLEN","END64HDR","END64SIG","END64START","END64OFF","END64NUMDISKS","ZIP64LEAD","ZIP64SIZE","ZIP64VEM","ZIP64VER","ZIP64DSK","ZIP64DSKDIR","ZIP64SIZB","ZIP64EXTRA","STORED","SHRUNK","REDUCED1","REDUCED2","REDUCED3","REDUCED4","IMPLODED","DEFLATED","ENHANCED_DEFLATED","PKWARE","BZIP2","LZMA","IBM_TERSE","IBM_LZ77","FLG_ENC","FLG_COMP1","FLG_COMP2","FLG_DESC","FLG_ENH","FLG_STR","FLG_LNG","FLG_MSK","EF_ID","EF_SIZE","ID_ZIP64","ID_AVINFO","ID_PFS","ID_OS2","ID_NTFS","ID_OPENVMS","ID_UNIX","ID_FORK","ID_PATCH","ID_X509_PKCS7","ID_X509_CERTID_F","ID_X509_CERTID_C","ID_STRONGENC","ID_RECORD_MGT","ID_X509_PKCS7_RL","ID_IBM1","ID_IBM2","ID_POSZIP","EF_ZIP64_OR_32","EF_ZIP64_OR_16","EF_ZIP64_SUNCOMP","EF_ZIP64_SCOMP","EF_ZIP64_RHO","EF_ZIP64_DSN","_path","_obj","directory","readonly","hidden","executable","mtime","atime","_stat","statSync","mode","console","warn","readOnly","decodeAttributes","encodeAttributes","versions","originalFs","Object","keys","e","FileAttr","crcTable","PATH_SEPARATOR","mkdirSync","resolvedPath","substr","stat","isFile","FILE_IN_THE_WAY","findSync","dir","pattern","recoursive","files","readdirSync","file","concat","crc32","n","c","k","writeInt32LE","off","len","c1","folder","dirname","openSync","chmodSync","writeSync","closeSync","exists","chmod","write","close","getAttributes","setAttributes","from","buffer","index","swap64","Headers","Methods","_entryHeader","_entryName","_comment","_isDirectory","uncompressedData","_extra","getCompressedDataFromZip","crc32OK","decompress","async","pass","DIRECTORY_CONTENT_ERROR","compressedData","BAD_CRC","inflater","result","UNKNOWN_METHOD","compress","deflater","deflated","readUInt64LE","parseZip64ExtendedInformation","rawEntryName","lastChar","extra","signature","parseExtra","getCompressedData","getCompressedDataAsync","value","changed","packHeader","inputType","entryList","entryTable","inBuffer","mainHeader","loadedEntries","readEntries","Array","readMainHeader","max","Math","endStart","endOffset","commentEnd","INVALID_FORMAT","iterateEntries","_self","splice","list","zipEntry","sort","a","nameA","toLowerCase","nameB","totalSize","dataBlock","entryHeaders","dindex","entryNameLen","postHeader","dataLength","entryHeader","outBuffer","mh","callee","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","str","map","s","findStatus","start","mid","floor","regexAstralSymbols","countSymbols","string","combiningMarksRegex","validateLabel","label","processing_option","toUnicode","error","search","status","codePointAt","processing","domain_name","useSTD3","hasError","processed","codePoint","String","fromCodePoint","apply","mapChars","labels","validation","toASCII","verifyDnsLength","domain","mpSupportMatrix","mpStarterApi","getSupportMatrix","mpConfigurations","configs","allMpVersions","groupId","prompts","askForGroupID","artifactId","askForArtifactID","mpVersion","askForMPVersion","mpServer","askForMPServer","supportedServers","buildTools","javaSEVersions","mpSpecs","getSupportedJavaAndSpecs","javaSEVersion","askForJavaSEVersion","buildTool","askForBuildTool","specDescriptions","descriptions","mpSpecifications","askForMPSpecifications","targetFolder","askForTargetFolder","targetDirString","fsPath","projectOptions","supportedServer","selectedSpecs","vscode","window","withProgress","location","ProgressLocation","Notification","title","cancellable","downloadMPStarterProjectZip","targetDirFolder","util","unzipFile","ERRORS","EXTRACT_PROJECT_ERROR","showErrorMessage","uriPath","Uri","selection","showInformationMessage","OPEN_NEW_PROJECT_OPTIONS","ADD_CURRENT_WORKSPACE","OPEN_NEW_WINDOW","workspace","updateWorkspaceFolders","uri","commands","executeCommand","FETCH_ERROR","MP_STARTER_API_ROOT","MP_VERSION_LABELS","MP50","MP41","MP40","MP33","MP32","MP30","MP22","MP21","MP20","MP14","MP13","MP12","MP_SERVER_LABELS","LIBERTY","HELIDON","PAYARA_MICRO","THORNTAIL_V2","KUMULUZEE","TOMEE","WILDFLY","WILDFLY_SWARM","QUARKUS","EXTENSION_USER_AGENT","CONFIRM_OPTIONS","YES","NO","mpSupportResponse","headers","statusText","json","serverName","microprofileVersion","serverSupportResponse","supportDetails","find","supportRecord","options","downloadLocation","requestOptions","url","body","JSON","stringify","downloadFile","res","Promise","reject","pipeline","createWriteStream","deleteFolder","parent","currentPath","lstatSync","unlinkSync","rmdirSync","workspaceFolders","promisify","unlink","newStr","trim","targetDir","admZip","zipFolderExists","askForFolder","customOptions","showOpenDialog","assign","canSelectFiles","canSelectFolders","canSelectMany","askConfirmation","message","showWarningMessage","showInputBox","placeHolder","prompt","ignoreFocusOut","validateInput","validateGroupId","validateArtifactId","supportedJavaSEVersions","showQuickPick","supportedBuildTools","supportedBuildToolsOptions","lower","formattedBuildTool","substring","buildToolQuickPickResult","mpVersions","mpVersionOptions","mpVersionQuickPickResult","mpServers","mpServerOptions","server","specs","mpSpecOptions","spec","fullDescription","desc","detail","trimCapitalizeFirstLetter","specResults","canPickMany","openLabel","conversions","sign","x","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","enforceRange","Number","isFinite","TypeError","abs","isNaN","clamp","round","evenRound","treatNullAsEmptyString","S","U","charCodeAt","d","usm","implementation","constructor","constructorArgs","base","parsedBase","basicURLParse","parsedURL","baseURL","_url","href","serializeURL","v","origin","serializeURLOrigin","protocol","scheme","stateOverride","username","cannotHaveAUsernamePasswordPort","setTheUsername","password","setThePassword","host","port","serializeHost","serializeInteger","cannotBeABaseURL","hostname","pathname","query","hash","fragment","toJSON","utils","Impl","impl","implSymbol","URL","args","setup","prototype","is","defineProperty","get","set","enumerable","configurable","obj","create","privateData","wrapper","wrapperSymbol","interface","expose","Window","Worker","tr46","specialSchemes","ftp","gopher","http","https","ws","wss","failure","Symbol","ucs2","decode","at","idx","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","hex","isC0ControlPercentEncode","extraPathPercentEncodeSet","Set","isPathPercentEncode","has","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","utf8PercentEncode","parseIPv4Number","R","parseHost","isSpecialArg","address","pieceIndex","pointer","numbersSeen","ipv4Piece","number","swaps","temp","parseIPv6","output","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","numbers","ipv4","counter","parseIPv4","serializeIPv4","arr","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","trimControlChars","trimTabAndNewline","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","shift","excludeFragment","parseURL","tuple","serializeOrigin","integer","mixin","source","getOwnPropertyNames","getOwnPropertyDescriptor","wrapperForImpl","implForWrapper","Readable","TYPE","Blob","blobParts","buffers","element","ArrayBuffer","isView","byteOffset","byteLength","type","text","arrayBuffer","ab","stream","readable","_read","relativeStart","relativeEnd","min","span","slicedBuffer","blob","FetchError","systemError","call","errno","captureStackTrace","convert","defineProperties","toStringTag","writable","INTERNALS","PassThrough","Body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","disturbed","consumeBody","_this4","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","append","delete","getAll","clone","instance","p1","p2","bodyUsed","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","then","ct","_this2","parse","textConverted","_this3","charset","exec","convertBody","mixIn","proto","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","key","MAP","init","rawHeaders","raw","headerNames","headerName","iterator","pairs","pair","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","kind","INTERNAL","HeadersIteratorPrototype","setPrototypeOf","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","INTERNALS$1","STATUS_CODES","Response","contentType","redirected","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","Request","inputBody","signal","isAbortSignal","redirect","follow","agent","AbortError","URL$1","PassThrough$1","fetch","request","contentLengthValue","totalBytes","getNodeRequestOptions","send","response","destroy","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","removeEventListener","addEventListener","once","socket","isArray","createHeadersLenient","isRedirect","statusCode","locationURL","requestOpts","destination","original","orig","dest","endsWith","isDomainOrSubdomain","response_options","statusMessage","codings","zlibOptions","flush","finishFlush","writeToStream","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","o","prop","hasOwnProperty","r","context","subscriptions","registerCommand","generateProject"],"sourceRoot":""}